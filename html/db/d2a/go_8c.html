<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Darknet: go.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Darknet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">go.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d94/network_8h_source.html">network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d36/parser_8h_source.html">parser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/dc0/option__list_8h_source.html">option_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/df1/blas_8h_source.html">blas.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dbd/data_8h_source.html">data.h</a>&quot;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for go.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd7/go_8c__incl.png" border="0" usemap="#go_8c" alt=""/></div>
<map name="go_8c" id="go_8c">
<area shape="rect" id="node2" href="../../d9/d94/network_8h.html" title="network.h" alt="" coords="293,152,373,177"/>
<area shape="rect" id="node15" href="../../d2/dbd/data_8h.html" title="data.h" alt="" coords="401,225,460,251"/>
<area shape="rect" id="node19" href="../../d5/d60/utils_8h.html" title="utils.h" alt="" coords="620,225,676,251"/>
<area shape="rect" id="node21" href="../../d5/d36/parser_8h.html" title="parser.h" alt="" coords="298,79,368,104"/>
<area shape="rect" id="node22" href="../../d1/dc0/option__list_8h.html" title="option_list.h" alt="" coords="493,152,586,177"/>
<area shape="rect" id="node23" href="../../d8/df1/blas_8h.html" title="blas.h" alt="" coords="661,79,718,104"/>
<area shape="rect" id="node3" href="../../d5/db2/image_8h.html" title="image.h" alt="" coords="299,299,367,324"/>
<area shape="rect" id="node10" href="../../d3/d3b/layer_8h.html" title="layer.h" alt="" coords="144,225,205,251"/>
<area shape="rect" id="node14" href="../../d3/d09/tree_8h.html" title="tree.h" alt="" coords="219,299,274,324"/>
<area shape="rect" id="node9" href="../../dc/d19/box_8h.html" title="box.h" alt="" coords="469,372,523,397"/>
<area shape="rect" id="node11" href="../../de/d92/activations_8h.html" title="activations.h" alt="" coords="5,299,101,324"/>
<area shape="rect" id="node12" href="../../dc/d57/cuda_8h.html" title="cuda.h" alt="" coords="22,372,84,397"/>
<area shape="rect" id="node17" href="../../dd/df4/matrix_8h.html" title="matrix.h" alt="" coords="493,299,562,324"/>
<area shape="rect" id="node18" href="../../da/d23/list_8h.html" title="list.h" alt="" coords="586,299,635,324"/>
</map>
</div>
</div>
<p><a href="../../db/d2a/go_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d30/structmoves.html">moves</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7fea59d697108309468be55ab9b8a1a8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8">fgetgo</a> (FILE *fp)</td></tr>
<tr class="separator:a7fea59d697108309468be55ab9b8a1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3527c2afe543ad88276f7ab0ca580b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d30/structmoves.html">moves</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9">load_go_moves</a> (char *filename)</td></tr>
<tr class="separator:af3527c2afe543ad88276f7ab0ca580b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17432d5a451dec0ceeb8db0e17ebe207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a> (char *s, float *board)</td></tr>
<tr class="separator:a17432d5a451dec0ceeb8db0e17ebe207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4047a6b13dcaa1653e9f6a953a7c18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a> (char *s, float *board)</td></tr>
<tr class="separator:add4047a6b13dcaa1653e9f6a953a7c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f610a96be9e62cbff6c70e1ec9c227a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dea/structdata.html">data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a">random_go_moves</a> (<a class="el" href="../../d6/d30/structmoves.html">moves</a> m, int n)</td></tr>
<tr class="separator:a4f610a96be9e62cbff6c70e1ec9c227a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bee8a9fcda465fdc3b9cf57b7646f7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d">train_go</a> (char *cfgfile, char *weightfile, char *filename, int *gpus, int ngpus, int clear)</td></tr>
<tr class="separator:a1bee8a9fcda465fdc3b9cf57b7646f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4815ef06123df68153376568ad5dad2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a> (float *board, int *lib, int *visited, int row, int col, int side)</td></tr>
<tr class="separator:a4815ef06123df68153376568ad5dad2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0325b17ac24c70c48cc3d31942ca8d82"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82">calculate_liberties</a> (float *board)</td></tr>
<tr class="separator:a0325b17ac24c70c48cc3d31942ca8d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0fac0d936e0738437f8204555d2b877"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a> (FILE *stream, float *board, int swap, int *indexes)</td></tr>
<tr class="separator:aa0fac0d936e0738437f8204555d2b877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58d8c150474f6f2394a764cb3a216227"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a> (float *board)</td></tr>
<tr class="separator:a58d8c150474f6f2394a764cb3a216227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8b8c2cb2d9d8a7ea35a5d6133a9657"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a> (<a class="el" href="../../de/d45/structnetwork.html">network</a> net, float *board, float *move, int multi)</td></tr>
<tr class="separator:afb8b8c2cb2d9d8a7ea35a5d6133a9657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc1ee84d43a5f685069206988bbddcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a> (float *b, int *lib, int p, int r, int c)</td></tr>
<tr class="separator:a6dc1ee84d43a5f685069206988bbddcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcf68963d283904716e37878758a5d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a> (float *b, int p, int r, int c)</td></tr>
<tr class="separator:a4fcf68963d283904716e37878758a5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09dd9290ff87d0d9143f5d97b3f440d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a> (float *b, int *lib, int p, int r, int c)</td></tr>
<tr class="separator:ad09dd9290ff87d0d9143f5d97b3f440d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ccdbba6020a5a2bfe35524ed01d83df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df">suicide_go</a> (float *b, int p, int r, int c)</td></tr>
<tr class="separator:a7ccdbba6020a5a2bfe35524ed01d83df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e615416377c6eccb3f3bb611336dce7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7">legal_go</a> (float *b, char *ko, int p, int r, int c)</td></tr>
<tr class="separator:a5e615416377c6eccb3f3bb611336dce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9307b0658d55b7b789b8386553d83336"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336">generate_move</a> (<a class="el" href="../../de/d45/structnetwork.html">network</a> net, int player, float *board, int multi, float thresh, float temp, char *ko, int print)</td></tr>
<tr class="separator:a9307b0658d55b7b789b8386553d83336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3949a68287cfeb7a1c35abfca445142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142">valid_go</a> (char *cfgfile, char *weightfile, int multi, char *filename)</td></tr>
<tr class="separator:ae3949a68287cfeb7a1c35abfca445142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abecaf7ce58e9ebf3455756a62384c245"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245">print_game</a> (float *board, FILE *fp)</td></tr>
<tr class="separator:abecaf7ce58e9ebf3455756a62384c245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634a03028ba512387aae19012c424818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818">engine_go</a> (char *filename, char *weightfile, int multi)</td></tr>
<tr class="separator:a634a03028ba512387aae19012c424818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ad2f96f9ea8092406bcb8f1873e92d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d">test_go</a> (char *cfg, char *weights, int multi)</td></tr>
<tr class="separator:a88ad2f96f9ea8092406bcb8f1873e92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d52f67407a3866ab526806ee6def85"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85">score_game</a> (float *board)</td></tr>
<tr class="separator:ad6d52f67407a3866ab526806ee6def85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3d780fb37b0f0a08f1eb90a807247a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a">self_go</a> (char *filename, char *weightfile, char *f2, char *w2, int multi)</td></tr>
<tr class="separator:aef3d780fb37b0f0a08f1eb90a807247a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc5b7a174f506f13ab6d0fca1faa102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102">run_go</a> (int argc, char **argv)</td></tr>
<tr class="separator:acbc5b7a174f506f13ab6d0fca1faa102"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2a99b4dc38f9b4ceadb80091e2dce12c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a> = 1</td></tr>
<tr class="separator:a2a99b4dc38f9b4ceadb80091e2dce12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd34566fdbd8e7f8f4d5b750a3040191"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a> = 1</td></tr>
<tr class="separator:afd34566fdbd8e7f8f4d5b750a3040191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ac4abfd1668c2eff233db8a57475ce"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a> = 2</td></tr>
<tr class="separator:ad9ac4abfd1668c2eff233db8a57475ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="add4047a6b13dcaa1653e9f6a953a7c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4047a6b13dcaa1653e9f6a953a7c18">&#9670;&nbsp;</a></span>board_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_to_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00072">72</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00364">legal_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    memset(s, 0, (19*19/4+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 91; ++i){</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j){</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordtype">int</span> me = (board[count] == 1);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordtype">int</span> you = (board[count] == -1);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">if</span> (me) s[i] = s[i] | (1&lt;&lt;(2*j));</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (you) s[i] = s[i] | (1&lt;&lt;(2*j + 1));</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            ++count;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span>(count &gt;= 19*19) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_add4047a6b13dcaa1653e9f6a953a7c18_icgraph.png" border="0" usemap="#db/d2a/go_8c_add4047a6b13dcaa1653e9f6a953a7c18_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_add4047a6b13dcaa1653e9f6a953a7c18_icgraph" id="db/d2a/go_8c_add4047a6b13dcaa1653e9f6a953a7c18_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="449,5,533,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="167,29,239,55"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="459,55,523,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="581,31,644,56"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="692,31,742,56"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="287,29,401,55"/>
</map>
</div>

</div>
</div>
<a id="a0325b17ac24c70c48cc3d31942ca8d82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0325b17ac24c70c48cc3d31942ca8d82">&#9670;&nbsp;</a></span>calculate_liberties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* calculate_liberties </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00217">217</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00202">propagate_liberty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00352">suicide_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">int</span> *lib = calloc(19*19, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">int</span> visited[361];</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; 19; ++j){</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; 19; ++i){</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            memset(visited, 0, 19*19*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordtype">int</span> index = j*19 + i;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">if</span>(board[index] == 0){</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">if</span> ((i &gt; 0)  &amp;&amp; board[index - 1]) <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, j, i-1, board[index-1]);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">if</span> ((i &lt; 18) &amp;&amp; board[index + 1]) <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, j, i+1, board[index+1]);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">if</span> ((j &gt; 0)  &amp;&amp; board[index - 19]) <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, j-1, i, board[index-19]);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">if</span> ((j &lt; 18) &amp;&amp; board[index + 19]) <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, j+1, i, board[index+19]);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> lib;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div><div class="ttc" id="go_8c_html_a4815ef06123df68153376568ad5dad2b"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a></div><div class="ttdeci">void propagate_liberty(float *board, int *lib, int *visited, int row, int col, int side)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00202">go.c:202</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_cgraph.png" border="0" usemap="#db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_cgraph" id="db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b" title="propagate_liberty" alt="" coords="181,5,305,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_icgraph.png" border="0" usemap="#db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_icgraph" id="db/d2a/go_8c_a0325b17ac24c70c48cc3d31942ca8d82_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="181,107,257,132"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="305,208,390,233"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="312,107,383,132"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="600,57,684,83"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="610,107,674,132"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="462,5,527,31"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="438,107,552,132"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="732,57,794,83"/>
<area shape="rect" id="node7" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="842,57,893,83"/>
</map>
</div>

</div>
</div>
<a id="a634a03028ba512387aae19012c424818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634a03028ba512387aae19012c424818">&#9670;&nbsp;</a></span>engine_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void engine_go </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weightfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00491">491</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00072">board_to_string()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00280">fgetl()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01127">load_weights()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00618">parse_network_cfg()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00474">print_game()</a>, and <a class="el" href="../../d6/d6e/network_8c_source.html#l00285">set_batch_network()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00871">run_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net = <a class="code" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a>(filename);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span>(weightfile){</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a>(&amp;net, weightfile);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    srand(time(0));</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a>(&amp;net, 1);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordtype">float</span> *board = calloc(19*19, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">char</span> *one = calloc(91, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">char</span> *two = calloc(91, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">int</span> passed = 0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">while</span>(1){</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordtype">char</span> buff[256];</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordtype">int</span> has_id = (scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;<span class="keywordtype">id</span>) == 1);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        scanf(<span class="stringliteral">&quot;%s&quot;</span>, buff);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">if</span> (feof(stdin)) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordtype">char</span> ids[256];</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        sprintf(ids, <span class="stringliteral">&quot;%d&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">//fprintf(stderr, &quot;%s\n&quot;, buff);</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (!has_id) ids[0] = 0;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;protocol_version&quot;</span>)){</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            printf(<span class="stringliteral">&quot;=%s 2\n\n&quot;</span>, ids);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;name&quot;</span>)){</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            printf(<span class="stringliteral">&quot;=%s DarkGo\n\n&quot;</span>, ids);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;time_settings&quot;</span>) || !strcmp(buff, <span class="stringliteral">&quot;time_left&quot;</span>)){</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordtype">char</span> *line = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(stdin);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            free(line);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;version&quot;</span>)){</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            printf(<span class="stringliteral">&quot;=%s 1.0. Want more DarkGo? You can find me on OGS, unlimited games, no waiting! https://online-go.com/user/view/434218\n\n&quot;</span>, ids);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;known_command&quot;</span>)){</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordtype">char</span> comm[256];</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            scanf(<span class="stringliteral">&quot;%s&quot;</span>, comm);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordtype">int</span> known = (!strcmp(comm, <span class="stringliteral">&quot;protocol_version&quot;</span>) || </div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;name&quot;</span>) || </div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;version&quot;</span>) || </div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;known_command&quot;</span>) || </div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;list_commands&quot;</span>) || </div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;quit&quot;</span>) || </div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;boardsize&quot;</span>) || </div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;clear_board&quot;</span>) || </div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;komi&quot;</span>) || </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;final_status_list&quot;</span>) || </div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;play&quot;</span>) || </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;genmove_white&quot;</span>) || </div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;genmove_black&quot;</span>) || </div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;fixed_handicap&quot;</span>) || </div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    !strcmp(comm, <span class="stringliteral">&quot;genmove&quot;</span>));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span>(known) printf(<span class="stringliteral">&quot;=%s true\n\n&quot;</span>, ids);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">else</span> printf(<span class="stringliteral">&quot;=%s false\n\n&quot;</span>, ids);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;list_commands&quot;</span>)){</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            printf(<span class="stringliteral">&quot;=%s protocol_version\nshowboard\nname\nversion\nknown_command\nlist_commands\nquit\nboardsize\nclear_board\nkomi\nplay\ngenmove_black\ngenmove_white\ngenmove\nfinal_status_list\nfixed_handicap\n\n&quot;</span>, ids);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;quit&quot;</span>)){</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;boardsize&quot;</span>)){</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordtype">int</span> boardsize = 0;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;boardsize);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="comment">//fprintf(stderr, &quot;%d\n&quot;, boardsize);</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span>(boardsize != 19){</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                printf(<span class="stringliteral">&quot;?%s unacceptable size\n\n&quot;</span>, ids);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                memset(board, 0, 19*19*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;fixed_handicap&quot;</span>)){</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordtype">int</span> handicap = 0;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;handicap);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordtype">int</span> indexes[] = {72, 288, 300, 60, 180, 174, 186, 66, 294};</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">for</span>(i = 0; i &lt; handicap; ++i){</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                board[indexes[i]] = 1;   </div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;clear_board&quot;</span>)){</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            passed = 0;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            memset(board, 0, 19*19*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;komi&quot;</span>)){</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordtype">float</span> komi = 0;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            scanf(<span class="stringliteral">&quot;%f&quot;</span>, &amp;komi);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;showboard&quot;</span>)){</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            printf(<span class="stringliteral">&quot;=%s \n&quot;</span>, ids);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a>(stdout, board, 1, 0);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            printf(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;play&quot;</span>) || !strcmp(buff, <span class="stringliteral">&quot;black&quot;</span>) || !strcmp(buff, <span class="stringliteral">&quot;white&quot;</span>)){</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordtype">char</span> color[256];</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span>(!strcmp(buff, <span class="stringliteral">&quot;play&quot;</span>))</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                scanf(<span class="stringliteral">&quot;%s &quot;</span>, color);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                scanf(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                color[0] = buff[0];</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordtype">char</span> c;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordtype">int</span> r;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordtype">int</span> count = scanf(<span class="stringliteral">&quot;%c%d&quot;</span>, &amp;c, &amp;r);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordtype">int</span> player = (color[0] == <span class="charliteral">&#39;b&#39;</span> || color[0] == <span class="charliteral">&#39;B&#39;</span>) ? 1 : -1;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">if</span>((c == <span class="charliteral">&#39;p&#39;</span> || c == <span class="charliteral">&#39;P&#39;</span>) &amp;&amp; count &lt; 2) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                passed = 1;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <span class="keywordtype">char</span> *line = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(stdin);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                free(line);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                fflush(stdout);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                fflush(stderr);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                passed = 0;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">if</span>(c &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;Z&#39;</span>) c = c - <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span>(c &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;z&#39;</span>) c = c - <span class="charliteral">&#39;a&#39;</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">if</span>(c &gt;= 8) --c;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            r = 19 - r;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;move: %d %d\n&quot;</span>, r, c);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordtype">char</span> *swap = two;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            two = one;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            one = swap;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(board, player, r, c);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(one, board);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            printf(<span class="stringliteral">&quot;=%s \n\n&quot;</span>, ids);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="comment">//print_board(stderr, board, 1, 0);</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;genmove&quot;</span>) || !strcmp(buff, <span class="stringliteral">&quot;genmove_black&quot;</span>) || !strcmp(buff, <span class="stringliteral">&quot;genmove_white&quot;</span>)){</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordtype">int</span> player = 0;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keywordflow">if</span>(!strcmp(buff, <span class="stringliteral">&quot;genmove&quot;</span>)){</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordtype">char</span> color[256];</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                scanf(<span class="stringliteral">&quot;%s&quot;</span>, color);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                player = (color[0] == <span class="charliteral">&#39;b&#39;</span> || color[0] == <span class="charliteral">&#39;B&#39;</span>) ? 1 : -1;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;genmove_black&quot;</span>)){</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                player = 1;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                player = -1;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordtype">int</span> index = <a class="code" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336">generate_move</a>(net, player, board, multi, .4, 1, two, 0);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">if</span>(passed || index &lt; 0){</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                printf(<span class="stringliteral">&quot;=%s pass\n\n&quot;</span>, ids);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                passed = 0;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <span class="keywordtype">int</span> row = index / 19;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordtype">int</span> col = index % 19;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordtype">char</span> *swap = two;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                two = one;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                one = swap;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(board, player, row, col);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(one, board);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                row = 19 - row;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">if</span> (col &gt;= 8) ++col;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                printf(<span class="stringliteral">&quot;=%s %c%d\n\n&quot;</span>, ids, <span class="charliteral">&#39;A&#39;</span> + col, row);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="comment">//print_board(board, 1, 0);</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;p&quot;</span>)){</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="comment">//print_board(board, 1, 0);</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buff, <span class="stringliteral">&quot;final_status_list&quot;</span>)){</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordtype">char</span> type[256];</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            scanf(<span class="stringliteral">&quot;%s&quot;</span>, type);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;final_status\n&quot;</span>);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordtype">char</span> *line = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(stdin);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            free(line);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">if</span>(type[0] == <span class="charliteral">&#39;d&#39;</span> || type[0] == <span class="charliteral">&#39;D&#39;</span>){</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                FILE *f = fopen(<span class="stringliteral">&quot;game.txt&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keywordtype">int</span> count = <a class="code" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245">print_game</a>(board, f);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                fprintf(f, <span class="stringliteral">&quot;%s final_status_list dead\n&quot;</span>, ids);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                fclose(f);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                FILE *p = popen(<span class="stringliteral">&quot;./gnugo --mode gtp &lt; game.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordflow">for</span>(i = 0; i &lt; count; ++i){</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    free(<a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p));</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    free(<a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p));</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordtype">char</span> *l = 0;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">while</span>((l = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p))){</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, l);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    free(l);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                printf(<span class="stringliteral">&quot;?%s unknown command\n\n&quot;</span>, ids);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordtype">char</span> *line = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(stdin);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            free(line);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            printf(<span class="stringliteral">&quot;?%s unknown command\n\n&quot;</span>, ids);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        fflush(stdout);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        fflush(stderr);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div><div class="ttc" id="utils_8c_html_a153eabd234972b240608df09cc4975d3"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a></div><div class="ttdeci">char * fgetl(FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00280">utils.c:280</a></div></div>
<div class="ttc" id="go_8c_html_a4fcf68963d283904716e37878758a5d6"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a></div><div class="ttdeci">void move_go(float *b, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00330">go.c:330</a></div></div>
<div class="ttc" id="go_8c_html_aa0fac0d936e0738437f8204555d2b877"><div class="ttname"><a href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a></div><div class="ttdeci">void print_board(FILE *stream, float *board, int swap, int *indexes)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00237">go.c:237</a></div></div>
<div class="ttc" id="go_8c_html_abecaf7ce58e9ebf3455756a62384c245"><div class="ttname"><a href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245">print_game</a></div><div class="ttdeci">int print_game(float *board, FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00474">go.c:474</a></div></div>
<div class="ttc" id="structnetwork_html"><div class="ttname"><a href="../../de/d45/structnetwork.html">network</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00014">network.h:14</a></div></div>
<div class="ttc" id="parser_8c_html_abb6f2aa1c5d5bf340faae09be6538c56"><div class="ttname"><a href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a></div><div class="ttdeci">network parse_network_cfg(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l00618">parser.c:618</a></div></div>
<div class="ttc" id="network_8c_html_a0cf39a1104b8f0415c56796b54a3670a"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a></div><div class="ttdeci">void set_batch_network(network *net, int b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00285">network.c:285</a></div></div>
<div class="ttc" id="go_8c_html_a9307b0658d55b7b789b8386553d83336"><div class="ttname"><a href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336">generate_move</a></div><div class="ttdeci">int generate_move(network net, int player, float *board, int multi, float thresh, float temp, char *ko, int print)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00377">go.c:377</a></div></div>
<div class="ttc" id="go_8c_html_add4047a6b13dcaa1653e9f6a953a7c18"><div class="ttname"><a href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a></div><div class="ttdeci">void board_to_string(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00072">go.c:72</a></div></div>
<div class="ttc" id="parser_8c_html_a60957f4d236ea8e417999b1778ec3d55"><div class="ttname"><a href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a></div><div class="ttdeci">void load_weights(network *net, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l01127">parser.c:1127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a634a03028ba512387aae19012c424818_cgraph.png" border="0" usemap="#db/d2a/go_8c_a634a03028ba512387aae19012c424818_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a634a03028ba512387aae19012c424818_cgraph" id="db/d2a/go_8c_a634a03028ba512387aae19012c424818_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18" title="board_to_string" alt="" coords="537,5,651,31"/>
<area shape="rect" id="node3" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3" title="fgetl" alt="" coords="571,528,617,553"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="147,253,261,279"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="556,105,632,131"/>
<area shape="rect" id="node15" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877" title="print_board" alt="" coords="352,401,441,427"/>
<area shape="rect" id="node17" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="154,1221,254,1247"/>
<area shape="rect" id="node19" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="137,1172,271,1197"/>
<area shape="rect" id="node49" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245" title="print_game" alt="" coords="160,1271,248,1296"/>
<area shape="rect" id="node50" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a" title="set_batch_network" alt="" coords="137,1320,271,1345"/>
<area shape="rect" id="node4" href="../../d3/d91/utils_8c.html#acab41f0a0d61cac3b20102d02e897780" title="malloc_error" alt="" coords="734,528,829,553"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227" title="flip_board" alt="" coords="356,155,436,180"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="346,204,447,229"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="360,105,432,131"/>
<area shape="rect" id="node12" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b" title="top_k" alt="" coords="369,253,423,279"/>
<area shape="rect" id="node13" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf" title="max_index" alt="" coords="353,303,439,328"/>
<area shape="rect" id="node14" href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000" title="sample_array" alt="" coords="345,352,447,377"/>
<area shape="rect" id="node16" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="551,56,636,81"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="718,56,845,81"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="714,105,849,131"/>
<area shape="rect" id="node18" href="../../d2/d72/parser_8c.html#abb17f71fa3838540cc5eff6492cce5e6" title="load_weights_upto" alt="" coords="330,1989,463,2015"/>
<area shape="rect" id="node20" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="360,553,433,579"/>
<area shape="rect" id="node21" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="569,1321,619,1347"/>
<area shape="rect" id="node22" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="342,652,450,677"/>
<area shape="rect" id="node23" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="354,701,439,727"/>
<area shape="rect" id="node24" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="331,1345,462,1371"/>
<area shape="rect" id="node25" href="../../d8/ddc/option__list_8c.html#a8d1e0e1e5d373284b9fccf658239ee35" title="option_find_int_quiet" alt="" coords="522,1617,666,1643"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="349,751,443,776"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="326,800,467,825"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="326,1395,466,1420"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#a7ad1750e2fb2e9403fa68f21a2c62c28" title="parse_deconvolutional" alt="" coords="319,1444,474,1469"/>
<area shape="rect" id="node30" href="../../d2/d72/parser_8c.html#ae36102ed30d5b253ec3c58df3192c771" title="parse_local" alt="" coords="352,1197,441,1223"/>
<area shape="rect" id="node31" href="../../d2/d72/parser_8c.html#aa6d3ed6372d755d53624f85c06da7dbe" title="parse_activation" alt="" coords="337,849,456,875"/>
<area shape="rect" id="node32" href="../../d2/d72/parser_8c.html#a5504899aea1400dbc33dba8eac459460" title="parse_rnn" alt="" coords="356,1592,437,1617"/>
<area shape="rect" id="node33" href="../../d2/d72/parser_8c.html#af8d59a4d921f3c03b0977d39feb14ced" title="parse_gru" alt="" coords="356,1641,437,1667"/>
<area shape="rect" id="node34" href="../../d2/d72/parser_8c.html#a4e1046e1d1d1030ad9f473d9b930f2a0" title="parse_crnn" alt="" coords="352,1691,440,1716"/>
<area shape="rect" id="node35" href="../../d2/d72/parser_8c.html#a0ac5e58f1dd180ce1ae1bddc3bb47596" title="parse_connected" alt="" coords="335,1740,458,1765"/>
<area shape="rect" id="node36" href="../../d2/d72/parser_8c.html#a8d1bd90ea4beb8fc3069999af7f4448f" title="parse_crop" alt="" coords="352,1493,440,1519"/>
<area shape="rect" id="node37" href="../../d2/d72/parser_8c.html#a853d2066af42522c1de3f97d0bc0ff29" title="parse_cost" alt="" coords="353,899,440,924"/>
<area shape="rect" id="node38" href="../../d2/d72/parser_8c.html#afedfffed817f89349b250c4afe09041c" title="parse_region" alt="" coords="347,1789,446,1815"/>
<area shape="rect" id="node39" href="../../d2/d72/parser_8c.html#ab5cfcdcccf8d8f3fa5f46d4528a70cab" title="parse_detection" alt="" coords="338,1891,454,1916"/>
<area shape="rect" id="node40" href="../../d2/d72/parser_8c.html#a1f908ce65d9b8a102e754f61f00882b3" title="parse_softmax" alt="" coords="342,1940,451,1965"/>
<area shape="rect" id="node41" href="../../d2/d72/parser_8c.html#a070f2ff614c49ca43151b17082372374" title="parse_normalization" alt="" coords="326,948,467,973"/>
<area shape="rect" id="node42" href="../../d2/d72/parser_8c.html#a912380cd9e2ee925a2e0af57cbde0511" title="parse_batchnorm" alt="" coords="334,997,459,1023"/>
<area shape="rect" id="node43" href="../../d2/d72/parser_8c.html#abef6e6b93a1c7ba7aef41bf2b95e9d27" title="parse_maxpool" alt="" coords="340,1543,453,1568"/>
<area shape="rect" id="node44" href="../../d2/d72/parser_8c.html#a934cdac39f052fe5f89407b9c99e729e" title="parse_reorg" alt="" coords="350,1296,443,1321"/>
<area shape="rect" id="node45" href="../../d2/d72/parser_8c.html#ad30661bf80ffee22a45132dbcd53043d" title="parse_avgpool" alt="" coords="342,1247,451,1272"/>
<area shape="rect" id="node46" href="../../d2/d72/parser_8c.html#a6a5c32c49b1a691f4e699760b72aff57" title="parse_route" alt="" coords="350,603,443,628"/>
<area shape="rect" id="node47" href="../../d2/d72/parser_8c.html#ab297102c068c53158161d4b13d03a53b" title="parse_shortcut" alt="" coords="342,1047,451,1072"/>
<area shape="rect" id="node48" href="../../d2/d72/parser_8c.html#acd4507a8980581f176f52500997f32ed" title="parse_dropout" alt="" coords="343,1096,450,1121"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a634a03028ba512387aae19012c424818_icgraph.png" border="0" usemap="#db/d2a/go_8c_a634a03028ba512387aae19012c424818_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a634a03028ba512387aae19012c424818_icgraph" id="db/d2a/go_8c_a634a03028ba512387aae19012c424818_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="137,5,200,31"/>
<area shape="rect" id="node3" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="248,5,298,31"/>
</map>
</div>

</div>
</div>
<a id="a7fea59d697108309468be55ab9b8a1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fea59d697108309468be55ab9b8a1a8">&#9670;&nbsp;</a></span>fgetgo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fgetgo </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00018">18</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00031">load_go_moves()</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">if</span>(feof(fp)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keywordtype">size_t</span> size = 94;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordtype">char</span> *line = malloc(size*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">if</span>(size != fread(line, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), size, fp)){</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        free(line);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    }</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> line;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a7fea59d697108309468be55ab9b8a1a8_icgraph.png" border="0" usemap="#db/d2a/go_8c_a7fea59d697108309468be55ab9b8a1a8_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a7fea59d697108309468be55ab9b8a1a8_icgraph" id="db/d2a/go_8c_a7fea59d697108309468be55ab9b8a1a8_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9" title="load_go_moves" alt="" coords="112,31,227,56"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d" title="train_go" alt="" coords="276,5,345,31"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142" title="valid_go" alt="" coords="275,55,346,80"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="394,31,457,56"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="505,31,555,56"/>
</map>
</div>

</div>
</div>
<a id="a58d8c150474f6f2394a764cb3a216227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58d8c150474f6f2394a764cb3a216227">&#9670;&nbsp;</a></span>flip_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flip_board </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00280">280</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19*19; ++i){</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        board[i] = -board[i];</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a58d8c150474f6f2394a764cb3a216227_icgraph.png" border="0" usemap="#db/d2a/go_8c_a58d8c150474f6f2394a764cb3a216227_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a58d8c150474f6f2394a764cb3a216227_icgraph" id="db/d2a/go_8c_a58d8c150474f6f2394a764cb3a216227_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="133,5,247,31"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="305,56,369,81"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="158,107,223,132"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="295,7,379,32"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="427,56,490,81"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="538,56,588,81"/>
</map>
</div>

</div>
</div>
<a id="a9307b0658d55b7b789b8386553d83336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9307b0658d55b7b789b8386553d83336">&#9670;&nbsp;</a></span>generate_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int generate_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d45/structnetwork.html">network</a>&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>thresh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ko</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>print</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00377">377</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00280">flip_board()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00022">network::layers</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00364">legal_go()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00550">max_index()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00015">network::n</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00011">nind</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00288">predict_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00537">sample_array()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00352">suicide_go()</a>, <a class="el" href="../../d3/d3b/layer_8h_source.html#l00131">layer::temperature</a>, and <a class="el" href="../../d3/d91/utils_8c_source.html#l00197">top_k()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">int</span> empty = 1;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19*19; ++i){</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (board[i]) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            empty = 0;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span>(empty) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> 72;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; net.<a class="code" href="../../de/d45/structnetwork.html#a1c7625720955322d05924a075d013877">n</a>; ++i) net.<a class="code" href="../../de/d45/structnetwork.html#a9770423f88b722bafc9d1fd3c6091d75">layers</a>[i].<a class="code" href="../../d4/db8/structlayer.html#a965290dca263c7774c9e9b4272a43c49">temperature</a> = temp;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">float</span> move[362];</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    if (player &lt; 0) <a class="code" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a>(board);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a>(net, board, move, multi);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (player &lt; 0) <a class="code" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a>(board);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19; ++i){</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; 19; ++j){</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7">legal_go</a>(board, ko, player, i, j)) move[i*19 + j] = 0;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordtype">int</span> indexes[<a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>];</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b">top_k</a>(move, 19*19+1, <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>, indexes);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span>(thresh &gt; move[indexes[0]]) thresh = move[indexes[<a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>-1]];</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19*19+1; ++i){</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">if</span> (move[i] &lt; thresh) move[i] = 0;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">int</span> max = <a class="code" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf">max_index</a>(move, 19*19+1);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">int</span> row = max / 19;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordtype">int</span> col = max % 19;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">int</span> index = <a class="code" href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000">sample_array</a>(move, 19*19+1);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span>(print){</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b">top_k</a>(move, 19*19+1, <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>, indexes);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>; ++i){</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">if</span> (!move[indexes[i]]) indexes[i] = -1;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a>(stderr, board, player, indexes);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>; ++i){</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%d: %f\n&quot;</span>, i+1, move[indexes[i]]);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (row == 19) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df">suicide_go</a>(board, player, row, col)){</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> -1; </div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df">suicide_go</a>(board, player, index/19, index%19)){</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        index = max;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (index == 19*19) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> index;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="ttc" id="structlayer_html_a965290dca263c7774c9e9b4272a43c49"><div class="ttname"><a href="../../d4/db8/structlayer.html#a965290dca263c7774c9e9b4272a43c49">layer::temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3b/layer_8h_source.html#l00131">layer.h:131</a></div></div>
<div class="ttc" id="go_8c_html_a7ccdbba6020a5a2bfe35524ed01d83df"><div class="ttname"><a href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df">suicide_go</a></div><div class="ttdeci">int suicide_go(float *b, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00352">go.c:352</a></div></div>
<div class="ttc" id="go_8c_html_a5e615416377c6eccb3f3bb611336dce7"><div class="ttname"><a href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7">legal_go</a></div><div class="ttdeci">int legal_go(float *b, char *ko, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00364">go.c:364</a></div></div>
<div class="ttc" id="go_8c_html_aa0fac0d936e0738437f8204555d2b877"><div class="ttname"><a href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a></div><div class="ttdeci">void print_board(FILE *stream, float *board, int swap, int *indexes)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00237">go.c:237</a></div></div>
<div class="ttc" id="utils_8c_html_aafc3b7bab809d8bc77b7353fd43f731b"><div class="ttname"><a href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b">top_k</a></div><div class="ttdeci">void top_k(float *a, int n, int k, int *index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00197">utils.c:197</a></div></div>
<div class="ttc" id="utils_8c_html_a505834ece1ee5be76ac5763e397ed000"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000">sample_array</a></div><div class="ttdeci">int sample_array(float *a, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00537">utils.c:537</a></div></div>
<div class="ttc" id="structnetwork_html_a9770423f88b722bafc9d1fd3c6091d75"><div class="ttname"><a href="../../de/d45/structnetwork.html#a9770423f88b722bafc9d1fd3c6091d75">network::layers</a></div><div class="ttdeci">layer * layers</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00022">network.h:22</a></div></div>
<div class="ttc" id="go_8c_html_afb8b8c2cb2d9d8a7ea35a5d6133a9657"><div class="ttname"><a href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a></div><div class="ttdeci">void predict_move(network net, float *board, float *move, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00288">go.c:288</a></div></div>
<div class="ttc" id="utils_8c_html_a3ebf9ae027586c4c7d982ffc92bad3cf"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf">max_index</a></div><div class="ttdeci">int max_index(float *a, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00550">utils.c:550</a></div></div>
<div class="ttc" id="go_8c_html_ad9ac4abfd1668c2eff233db8a57475ce"><div class="ttname"><a href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a></div><div class="ttdeci">static const int nind</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00011">go.c:11</a></div></div>
<div class="ttc" id="go_8c_html_a58d8c150474f6f2394a764cb3a216227"><div class="ttname"><a href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a></div><div class="ttdeci">void flip_board(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00280">go.c:280</a></div></div>
<div class="ttc" id="structnetwork_html_a1c7625720955322d05924a075d013877"><div class="ttname"><a href="../../de/d45/structnetwork.html#a1c7625720955322d05924a075d013877">network::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00015">network.h:15</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_cgraph.png" border="0" usemap="#db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_cgraph" id="db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227" title="flip_board" alt="" coords="178,55,258,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="183,104,254,129"/>
<area shape="rect" id="node10" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf" title="max_index" alt="" coords="175,329,261,355"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="168,379,269,404"/>
<area shape="rect" id="node23" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877" title="print_board" alt="" coords="174,428,263,453"/>
<area shape="rect" id="node24" href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000" title="sample_array" alt="" coords="167,600,269,625"/>
<area shape="rect" id="node28" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="176,205,261,231"/>
<area shape="rect" id="node30" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b" title="top_k" alt="" coords="191,649,245,675"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18" title="board_to_string" alt="" coords="322,5,436,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="341,55,417,80"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="322,104,436,129"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="495,129,623,155"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="492,55,626,80"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b" title="propagate_liberty" alt="" coords="681,129,805,155"/>
<area shape="rect" id="node12" href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6" title="network_predict" alt="" coords="321,255,437,280"/>
<area shape="rect" id="node16" href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c" title="copy_cpu" alt="" coords="340,304,418,329"/>
<area shape="rect" id="node17" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024" title="float_to_image" alt="" coords="324,353,433,379"/>
<area shape="rect" id="node19" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43" title="rotate_image_cw" alt="" coords="317,403,440,428"/>
<area shape="rect" id="node20" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="338,452,420,477"/>
<area shape="rect" id="node21" href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc" title="axpy_cpu" alt="" coords="340,501,418,527"/>
<area shape="rect" id="node22" href="../../dc/d50/blas_8c.html#a34c9f6d7710be70c85c343b9840981d8" title="scal_cpu" alt="" coords="342,551,416,576"/>
<area shape="rect" id="node13" href="../../d6/d6e/network_8c.html#affc7ba2c94d58f52043a19d4c8151daa" title="forward_network" alt="" coords="499,255,619,280"/>
<area shape="rect" id="node14" href="../../dc/d50/blas_8c.html#a0e56f560dd08e165d6b5439ce93c7859" title="fill_cpu" alt="" coords="712,229,775,255"/>
<area shape="rect" id="node15" href="../../d6/d6e/network_8c.html#a580b7921ad9619b4b41009bcdc486e1c" title="calc_network_cost" alt="" coords="678,279,809,304"/>
<area shape="rect" id="node18" href="../../d3/d10/image_8c.html#a28bb9f835989b2f7e908386421c52837" title="make_empty_image" alt="" coords="488,353,630,379"/>
<area shape="rect" id="node25" href="../../d3/d91/utils_8c.html#abedfeccc4fae6ebb143af6a646658b35" title="sum_array" alt="" coords="337,600,421,625"/>
<area shape="rect" id="node26" href="../../d3/d91/utils_8c.html#a8fb2bfbc3ce8319adacd60978267cbb7" title="scale_array" alt="" coords="334,649,424,675"/>
<area shape="rect" id="node27" href="../../d3/d91/utils_8c.html#a5492196e16ed2d16bae1df8483ef79ed" title="rand_uniform" alt="" coords="329,699,429,724"/>
<area shape="rect" id="node29" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d" title="makes_safe_go" alt="" coords="321,205,437,231"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_icgraph.png" border="0" usemap="#db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_icgraph" id="db/d2a/go_8c_a9307b0658d55b7b789b8386553d83336_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="167,5,251,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="177,55,241,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="299,31,362,56"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="410,31,460,56"/>
</map>
</div>

</div>
</div>
<a id="a5e615416377c6eccb3f3bb611336dce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e615416377c6eccb3f3bb611336dce7">&#9670;&nbsp;</a></span>legal_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int legal_go </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ko</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00364">364</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00072">board_to_string()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00053">string_to_board()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (b[r*19 + c]) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">char</span> curr[91];</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">char</span> next[91];</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(curr, b);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(b, p, r, c);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(next, b);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a>(curr, b);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span>(memcmp(next, ko, 91) == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="ttc" id="go_8c_html_a4fcf68963d283904716e37878758a5d6"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a></div><div class="ttdeci">void move_go(float *b, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00330">go.c:330</a></div></div>
<div class="ttc" id="go_8c_html_a17432d5a451dec0ceeb8db0e17ebe207"><div class="ttname"><a href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a></div><div class="ttdeci">void string_to_board(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00053">go.c:53</a></div></div>
<div class="ttc" id="go_8c_html_add4047a6b13dcaa1653e9f6a953a7c18"><div class="ttname"><a href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a></div><div class="ttdeci">void board_to_string(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00072">go.c:72</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_cgraph.png" border="0" usemap="#db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_cgraph" id="db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18" title="board_to_string" alt="" coords="125,5,239,31"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="144,55,220,80"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="125,104,239,129"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="291,31,418,56"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="287,80,422,105"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b" title="propagate_liberty" alt="" coords="470,31,594,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_icgraph.png" border="0" usemap="#db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_icgraph" id="db/d2a/go_8c_a5e615416377c6eccb3f3bb611336dce7_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="125,31,239,56"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="287,5,371,31"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="297,55,361,80"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="419,31,482,56"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="530,31,580,56"/>
</map>
</div>

</div>
</div>
<a id="af3527c2afe543ad88276f7ab0ca580b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3527c2afe543ad88276f7ab0ca580b9">&#9670;&nbsp;</a></span>load_go_moves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d30/structmoves.html">moves</a> load_go_moves </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00031">31</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00014">moves::data</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00018">fgetgo()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00015">moves::n</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00124">train_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00441">valid_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../d6/d30/structmoves.html">moves</a> m;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a> = 128;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a> = calloc(128, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>*));</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    FILE *fp = fopen(filename, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">char</span> *line = 0;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">while</span>((line = <a class="code" href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8">fgetgo</a>(fp))){</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span>(count &gt;= m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a>){</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a> *= 2;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a> = realloc(m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a>, m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>*));</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a>[count] = line;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        ++count;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    printf(<span class="stringliteral">&quot;%d\n&quot;</span>, count);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a> = count;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a> = realloc(m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a>, count*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>*));</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> m;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="ttc" id="structmoves_html"><div class="ttname"><a href="../../d6/d30/structmoves.html">moves</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00013">go.c:13</a></div></div>
<div class="ttc" id="structmoves_html_ac078836de92eeac5dda2fb83ae0b0f2f"><div class="ttname"><a href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">moves::data</a></div><div class="ttdeci">char ** data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00014">go.c:14</a></div></div>
<div class="ttc" id="go_8c_html_a7fea59d697108309468be55ab9b8a1a8"><div class="ttname"><a href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8">fgetgo</a></div><div class="ttdeci">char * fgetgo(FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00018">go.c:18</a></div></div>
<div class="ttc" id="structmoves_html_aa81066b4e56914d3d6fa93fee404e062"><div class="ttname"><a href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">moves::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00015">go.c:15</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_cgraph.png" border="0" usemap="#db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_cgraph" id="db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8" title="fgetgo" alt="" coords="169,5,227,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_icgraph.png" border="0" usemap="#db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_icgraph" id="db/d2a/go_8c_af3527c2afe543ad88276f7ab0ca580b9_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d" title="train_go" alt="" coords="170,5,239,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142" title="valid_go" alt="" coords="169,55,240,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="288,31,351,56"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="399,31,449,56"/>
</map>
</div>

</div>
</div>
<a id="ad09dd9290ff87d0d9143f5d97b3f440d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09dd9290ff87d0d9143f5d97b3f440d">&#9670;&nbsp;</a></span>makes_safe_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int makes_safe_go </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00341">341</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00352">suicide_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                                          {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (r &lt; 0 || r &gt;= 19 || c &lt; 0 || c &gt;= 19) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (b[r*19 + c] == -p){</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (lib[r*19 + c] &gt; 1) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (b[r*19 + c] == 0) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (lib[r*19 + c] &gt; 1) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_ad09dd9290ff87d0d9143f5d97b3f440d_icgraph.png" border="0" usemap="#db/d2a/go_8c_ad09dd9290ff87d0d9143f5d97b3f440d_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_ad09dd9290ff87d0d9143f5d97b3f440d_icgraph" id="db/d2a/go_8c_ad09dd9290ff87d0d9143f5d97b3f440d_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="169,31,254,56"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="302,31,416,56"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="464,5,547,31"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="474,55,538,80"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="595,31,658,56"/>
<area shape="rect" id="node6" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="706,31,757,56"/>
</map>
</div>

</div>
</div>
<a id="a4fcf68963d283904716e37878758a5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcf68963d283904716e37878758a5d6">&#9670;&nbsp;</a></span>move_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void move_go </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00330">330</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00217">calculate_liberties()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00317">remove_connected()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00364">legal_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> *l = <a class="code" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82">calculate_liberties</a>(b);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    b[r*19 + c] = p;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, l, -p, r+1, c);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, l, -p, r-1, c);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, l, -p, r, c+1);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, l, -p, r, c-1);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    free(l);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="ttc" id="go_8c_html_a6dc1ee84d43a5f685069206988bbddcc"><div class="ttname"><a href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a></div><div class="ttdeci">void remove_connected(float *b, int *lib, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00317">go.c:317</a></div></div>
<div class="ttc" id="go_8c_html_a0325b17ac24c70c48cc3d31942ca8d82"><div class="ttname"><a href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82">calculate_liberties</a></div><div class="ttdeci">int * calculate_liberties(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00217">go.c:217</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_cgraph.png" border="0" usemap="#db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_cgraph" id="db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="133,5,261,31"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="130,55,264,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b" title="propagate_liberty" alt="" coords="312,5,437,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_icgraph.png" border="0" usemap="#db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_icgraph" id="db/d2a/go_8c_a4fcf68963d283904716e37878758a5d6_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="411,33,495,58"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="130,33,201,58"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="421,83,485,109"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="274,134,339,159"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="543,83,606,109"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="654,83,704,109"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="249,33,363,58"/>
</map>
</div>

</div>
</div>
<a id="afb8b8c2cb2d9d8a7ea35a5d6133a9657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8b8c2cb2d9d8a7ea35a5d6133a9657">&#9670;&nbsp;</a></span>predict_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void predict_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d45/structnetwork.html">network</a>&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00288">288</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d50/blas_8c_source.html#l00146">axpy_cpu()</a>, <a class="el" href="../../dc/d50/blas_8c_source.html#l00164">copy_cpu()</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00262">flip_image()</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00654">float_to_image()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00429">network_predict()</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00241">rotate_image_cw()</a>, and <a class="el" href="../../dc/d50/blas_8c_source.html#l00152">scal_cpu()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00441">valid_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">float</span> *output = <a class="code" href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6">network_predict</a>(net, board);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c">copy_cpu</a>(19*19+1, output, 1, move, 1);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span>(multi){</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="../../de/d68/structimage.html">image</a> bim = <a class="code" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a>(19, 19, 1, board);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">for</span>(i = 1; i &lt; 8; ++i){</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a>(bim, i);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span>(i &gt;= 4) <a class="code" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a>(bim);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordtype">float</span> *output = <a class="code" href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6">network_predict</a>(net, board);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="../../de/d68/structimage.html">image</a> oim = <a class="code" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a>(19, 19, 1, output);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span>(i &gt;= 4) <a class="code" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a>(oim);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a>(oim, -i);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <a class="code" href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc">axpy_cpu</a>(19*19+1, 1, output, 1, move, 1);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span>(i &gt;= 4) <a class="code" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a>(bim);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <a class="code" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a>(bim, -i);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="../../dc/d50/blas_8c.html#a34c9f6d7710be70c85c343b9840981d8">scal_cpu</a>(19*19+1, 1./8., move, 1);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19*19; ++i){</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">if</span>(board[i]) move[i] = 0;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="ttc" id="blas_8c_html_a1af2064b6d091c8bf5565327745534fc"><div class="ttname"><a href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc">axpy_cpu</a></div><div class="ttdeci">void axpy_cpu(int N, float ALPHA, float *X, int INCX, float *Y, int INCY)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d50/blas_8c_source.html#l00146">blas.c:146</a></div></div>
<div class="ttc" id="image_8c_html_a5f4eee7b0d6fbc221d65b48e6ca12f43"><div class="ttname"><a href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a></div><div class="ttdeci">void rotate_image_cw(image im, int times)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00241">image.c:241</a></div></div>
<div class="ttc" id="blas_8c_html_a34c9f6d7710be70c85c343b9840981d8"><div class="ttname"><a href="../../dc/d50/blas_8c.html#a34c9f6d7710be70c85c343b9840981d8">scal_cpu</a></div><div class="ttdeci">void scal_cpu(int N, float ALPHA, float *X, int INCX)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d50/blas_8c_source.html#l00152">blas.c:152</a></div></div>
<div class="ttc" id="structimage_html"><div class="ttname"><a href="../../de/d68/structimage.html">image</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db2/image_8h_source.html#l00022">image.h:22</a></div></div>
<div class="ttc" id="network_8c_html_a40ea1072011345fcf25951b4a5d429a6"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6">network_predict</a></div><div class="ttdeci">float * network_predict(network net, float *input)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00429">network.c:429</a></div></div>
<div class="ttc" id="image_8c_html_ac226109dbae019db599ceb71d5f6aca8"><div class="ttname"><a href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a></div><div class="ttdeci">void flip_image(image a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00262">image.c:262</a></div></div>
<div class="ttc" id="image_8c_html_a30912fff1b55bfe3f46db0dcf74f6024"><div class="ttname"><a href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a></div><div class="ttdeci">image float_to_image(int w, int h, int c, float *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00654">image.c:654</a></div></div>
<div class="ttc" id="blas_8c_html_a22f6b03dd54e2d4b249e53a0ca14434c"><div class="ttname"><a href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c">copy_cpu</a></div><div class="ttdeci">void copy_cpu(int N, float *X, int INCX, float *Y, int INCY)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d50/blas_8c_source.html#l00164">blas.c:164</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_cgraph.png" border="0" usemap="#db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_cgraph" id="db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_cgraph">
<area shape="rect" id="node2" href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc" title="axpy_cpu" alt="" coords="177,5,255,31"/>
<area shape="rect" id="node3" href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c" title="copy_cpu" alt="" coords="177,55,255,80"/>
<area shape="rect" id="node4" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="175,104,257,129"/>
<area shape="rect" id="node5" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024" title="float_to_image" alt="" coords="162,153,271,179"/>
<area shape="rect" id="node7" href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6" title="network_predict" alt="" coords="158,203,274,228"/>
<area shape="rect" id="node11" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43" title="rotate_image_cw" alt="" coords="155,252,278,277"/>
<area shape="rect" id="node12" href="../../dc/d50/blas_8c.html#a34c9f6d7710be70c85c343b9840981d8" title="scal_cpu" alt="" coords="179,301,253,327"/>
<area shape="rect" id="node6" href="../../d3/d10/image_8c.html#a28bb9f835989b2f7e908386421c52837" title="make_empty_image" alt="" coords="326,153,467,179"/>
<area shape="rect" id="node8" href="../../d6/d6e/network_8c.html#affc7ba2c94d58f52043a19d4c8151daa" title="forward_network" alt="" coords="336,203,456,228"/>
<area shape="rect" id="node9" href="../../dc/d50/blas_8c.html#a0e56f560dd08e165d6b5439ce93c7859" title="fill_cpu" alt="" coords="549,177,612,203"/>
<area shape="rect" id="node10" href="../../d6/d6e/network_8c.html#a580b7921ad9619b4b41009bcdc486e1c" title="calc_network_cost" alt="" coords="515,227,646,252"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_icgraph.png" border="0" usemap="#db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_icgraph" id="db/d2a/go_8c_afb8b8c2cb2d9d8a7ea35a5d6133a9657_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="155,53,269,79"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="326,104,391,129"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142" title="valid_go" alt="" coords="176,155,247,180"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="317,5,400,31"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="326,55,391,80"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="448,80,511,105"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="559,80,609,105"/>
</map>
</div>

</div>
</div>
<a id="aa0fac0d936e0738437f8204555d2b877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0fac0d936e0738437f8204555d2b877">&#9670;&nbsp;</a></span>print_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_board </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indexes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00237">237</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00009">inverted</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00011">nind</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00010">noi</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordtype">int</span> i,j,n;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    fprintf(stream, <span class="stringliteral">&quot;   &quot;</span>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 19; ++i){</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        fprintf(stream, <span class="stringliteral">&quot;%c &quot;</span>, <span class="charliteral">&#39;A&#39;</span> + i + 1*(i &gt; 7 &amp;&amp; <a class="code" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a>));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    fprintf(stream, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; 19; ++j){</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        fprintf(stream, <span class="stringliteral">&quot;%2d&quot;</span>, (<a class="code" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a>) ? 19-j : j+1);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; 19; ++i){</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordtype">int</span> index = j*19 + i;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span>(indexes){</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="keywordflow">for</span>(n = 0; n &lt; <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>; ++n){</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <span class="keywordflow">if</span>(index == indexes[n]){</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        found = 1;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <span class="comment">/*</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">                           if(n == 0) fprintf(stream, &quot;\uff11&quot;);</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">                           else if(n == 1) fprintf(stream, &quot;\uff12&quot;);</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">                           else if(n == 2) fprintf(stream, &quot;\uff13&quot;);</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">                           else if(n == 3) fprintf(stream, &quot;\uff14&quot;);</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">                           else if(n == 4) fprintf(stream, &quot;\uff15&quot;);</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <span class="keywordflow">if</span>(n == 0) fprintf(stream, <span class="stringliteral">&quot; 1&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == 1) fprintf(stream, <span class="stringliteral">&quot; 2&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == 2) fprintf(stream, <span class="stringliteral">&quot; 3&quot;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == 3) fprintf(stream, <span class="stringliteral">&quot; 4&quot;</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == 4) fprintf(stream, <span class="stringliteral">&quot; 5&quot;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">if</span>(found) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="comment">//if(board[index]*-swap &gt; 0) fprintf(stream, &quot;\u25C9 &quot;);</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="comment">//else if(board[index]*-swap &lt; 0) fprintf(stream, &quot;\u25EF &quot;);</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span>(board[index]*-swap &gt; 0) fprintf(stream, <span class="stringliteral">&quot; O&quot;</span>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(board[index]*-swap &lt; 0) fprintf(stream, <span class="stringliteral">&quot; X&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">else</span> fprintf(stream, <span class="stringliteral">&quot;  &quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        fprintf(stream, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="ttc" id="go_8c_html_afd34566fdbd8e7f8f4d5b750a3040191"><div class="ttname"><a href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a></div><div class="ttdeci">int noi</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00010">go.c:10</a></div></div>
<div class="ttc" id="go_8c_html_ad9ac4abfd1668c2eff233db8a57475ce"><div class="ttname"><a href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a></div><div class="ttdeci">static const int nind</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00011">go.c:11</a></div></div>
<div class="ttc" id="go_8c_html_a2a99b4dc38f9b4ceadb80091e2dce12c"><div class="ttname"><a href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a></div><div class="ttdeci">int inverted</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00009">go.c:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_aa0fac0d936e0738437f8204555d2b877_icgraph.png" border="0" usemap="#db/d2a/go_8c_aa0fac0d936e0738437f8204555d2b877_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_aa0fac0d936e0738437f8204555d2b877_icgraph" id="db/d2a/go_8c_aa0fac0d936e0738437f8204555d2b877_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="304,24,388,50"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="142,24,256,50"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="314,74,378,99"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="167,126,232,151"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="436,74,499,99"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="547,74,597,99"/>
</map>
</div>

</div>
</div>
<a id="abecaf7ce58e9ebf3455756a62384c245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abecaf7ce58e9ebf3455756a62384c245">&#9670;&nbsp;</a></span>print_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_game </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00474">474</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00764">score_game()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordtype">int</span> count = 3;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;komi 6.5\n&quot;</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;boardsize 19\n&quot;</span>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;clear_board\n&quot;</span>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; 19; ++j){</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; 19; ++i){</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span>(board[j*19 + i] == 1) fprintf(fp, <span class="stringliteral">&quot;play black %c%d\n&quot;</span>, <span class="charliteral">&#39;A&#39;</span>+i+(i&gt;=8), 19-j);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">if</span>(board[j*19 + i] == -1) fprintf(fp, <span class="stringliteral">&quot;play white %c%d\n&quot;</span>, <span class="charliteral">&#39;A&#39;</span>+i+(i&gt;=8), 19-j);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span>(board[j*19 + i]) ++count;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_abecaf7ce58e9ebf3455756a62384c245_icgraph.png" border="0" usemap="#db/d2a/go_8c_abecaf7ce58e9ebf3455756a62384c245_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_abecaf7ce58e9ebf3455756a62384c245_icgraph" id="db/d2a/go_8c_abecaf7ce58e9ebf3455756a62384c245_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="284,5,368,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85" title="score_game" alt="" coords="141,55,236,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="416,31,479,56"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="527,31,577,56"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="294,55,358,80"/>
</map>
</div>

</div>
</div>
<a id="a4815ef06123df68153376568ad5dad2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4815ef06123df68153376568ad5dad2b">&#9670;&nbsp;</a></span>propagate_liberty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void propagate_liberty </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>visited</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00202">202</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00217">calculate_liberties()</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (row &lt; 0 || row &gt; 18 || col &lt; 0 || col &gt; 18) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">int</span> index = row*19 + col;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (board[index] != side) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (visited[index]) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    visited[index] = 1;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    lib[index] += 1;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, row+1, col, side);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, row-1, col, side);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, row, col+1, side);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a>(board, lib, visited, row, col-1, side);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="ttc" id="go_8c_html_a4815ef06123df68153376568ad5dad2b"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b">propagate_liberty</a></div><div class="ttdeci">void propagate_liberty(float *board, int *lib, int *visited, int row, int col, int side)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00202">go.c:202</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a4815ef06123df68153376568ad5dad2b_icgraph.png" border="0" usemap="#db/d2a/go_8c_a4815ef06123df68153376568ad5dad2b_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a4815ef06123df68153376568ad5dad2b_icgraph" id="db/d2a/go_8c_a4815ef06123df68153376568ad5dad2b_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="178,144,305,169"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="357,107,434,132"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="353,181,438,207"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="768,57,851,83"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="486,107,558,132"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="777,107,842,132"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="630,5,695,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="899,57,962,83"/>
<area shape="rect" id="node6" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1010,57,1061,83"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="606,107,720,132"/>
</map>
</div>

</div>
</div>
<a id="a4f610a96be9e62cbff6c70e1ec9c227a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f610a96be9e62cbff6c70e1ec9c227a">&#9670;&nbsp;</a></span>random_go_moves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dea/structdata.html">data</a> random_go_moves </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d30/structmoves.html">moves</a>&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00089">89</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00014">moves::data</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00262">flip_image()</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00654">float_to_image()</a>, <a class="el" href="../../dc/dca/matrix_8c_source.html#l00091">make_matrix()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00015">moves::n</a>, <a class="el" href="../../d3/d10/image_8c_source.html#l00241">rotate_image_cw()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00053">string_to_board()</a>, <a class="el" href="../../dd/df4/matrix_8h_source.html#l00005">matrix::vals</a>, <a class="el" href="../../d2/dbd/data_8h_source.html#l00023">data::X</a>, and <a class="el" href="../../d2/dbd/data_8h_source.html#l00024">data::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00124">train_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> d = {0};</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    d.<a class="code" href="../../df/dea/structdata.html#a1f37ae26b26b12ef5c70a12957826e87">X</a> = <a class="code" href="../../dc/dca/matrix_8c.html#a47438b60c4cf871ff2523161d8a26eef">make_matrix</a>(n, 19*19);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    d.<a class="code" href="../../df/dea/structdata.html#a30946bde3a05e40df6fbb49c5dd9b627">y</a> = <a class="code" href="../../dc/dca/matrix_8c.html#a47438b60c4cf871ff2523161d8a26eef">make_matrix</a>(n, 19*19+1);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; n; ++i){</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordtype">float</span> *board = d.<a class="code" href="../../df/dea/structdata.html#a1f37ae26b26b12ef5c70a12957826e87">X</a>.<a class="code" href="../../dd/d7b/structmatrix.html#ac06cdc346e87ea5cb4e4ae1a9b91d61f">vals</a>[i];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordtype">float</span> *label = d.<a class="code" href="../../df/dea/structdata.html#a30946bde3a05e40df6fbb49c5dd9b627">y</a>.<a class="code" href="../../dd/d7b/structmatrix.html#ac06cdc346e87ea5cb4e4ae1a9b91d61f">vals</a>[i];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordtype">char</span> *b = m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a>[rand()%m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a>];</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordtype">int</span> row = b[0];</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordtype">int</span> col = b[1];</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span>(row &gt;= 19 || col &gt;= 19){</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            label[19*19] = 1;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            label[col + 19*row] = 1;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a>(b+2, board);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span>(board[col + 19*row]) printf(<span class="stringliteral">&quot;hey\n&quot;</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordtype">int</span> flip = rand()%2;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordtype">int</span> rotate = rand()%4;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="../../de/d68/structimage.html">image</a> in = <a class="code" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a>(19, 19, 1, board);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../de/d68/structimage.html">image</a> out = <a class="code" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a>(19, 19, 1, label);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span>(flip){</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a>(in);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a>(out);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a>(in, rotate);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a>(out, rotate);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> d;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="matrix_8c_html_a47438b60c4cf871ff2523161d8a26eef"><div class="ttname"><a href="../../dc/dca/matrix_8c.html#a47438b60c4cf871ff2523161d8a26eef">make_matrix</a></div><div class="ttdeci">matrix make_matrix(int rows, int cols)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dca/matrix_8c_source.html#l00091">matrix.c:91</a></div></div>
<div class="ttc" id="image_8c_html_a5f4eee7b0d6fbc221d65b48e6ca12f43"><div class="ttname"><a href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43">rotate_image_cw</a></div><div class="ttdeci">void rotate_image_cw(image im, int times)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00241">image.c:241</a></div></div>
<div class="ttc" id="structimage_html"><div class="ttname"><a href="../../de/d68/structimage.html">image</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db2/image_8h_source.html#l00022">image.h:22</a></div></div>
<div class="ttc" id="go_8c_html_a17432d5a451dec0ceeb8db0e17ebe207"><div class="ttname"><a href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a></div><div class="ttdeci">void string_to_board(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00053">go.c:53</a></div></div>
<div class="ttc" id="image_8c_html_ac226109dbae019db599ceb71d5f6aca8"><div class="ttname"><a href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8">flip_image</a></div><div class="ttdeci">void flip_image(image a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00262">image.c:262</a></div></div>
<div class="ttc" id="structmoves_html_ac078836de92eeac5dda2fb83ae0b0f2f"><div class="ttname"><a href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">moves::data</a></div><div class="ttdeci">char ** data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00014">go.c:14</a></div></div>
<div class="ttc" id="image_8c_html_a30912fff1b55bfe3f46db0dcf74f6024"><div class="ttname"><a href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024">float_to_image</a></div><div class="ttdeci">image float_to_image(int w, int h, int c, float *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d10/image_8c_source.html#l00654">image.c:654</a></div></div>
<div class="ttc" id="structdata_html_a1f37ae26b26b12ef5c70a12957826e87"><div class="ttname"><a href="../../df/dea/structdata.html#a1f37ae26b26b12ef5c70a12957826e87">data::X</a></div><div class="ttdeci">matrix X</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/data_8h_source.html#l00023">data.h:23</a></div></div>
<div class="ttc" id="structmatrix_html_ac06cdc346e87ea5cb4e4ae1a9b91d61f"><div class="ttname"><a href="../../dd/d7b/structmatrix.html#ac06cdc346e87ea5cb4e4ae1a9b91d61f">matrix::vals</a></div><div class="ttdeci">float ** vals</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df4/matrix_8h_source.html#l00005">matrix.h:5</a></div></div>
<div class="ttc" id="structmoves_html_aa81066b4e56914d3d6fa93fee404e062"><div class="ttname"><a href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">moves::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00015">go.c:15</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="../../df/dea/structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/data_8h_source.html#l00021">data.h:21</a></div></div>
<div class="ttc" id="structdata_html_a30946bde3a05e40df6fbb49c5dd9b627"><div class="ttname"><a href="../../df/dea/structdata.html#a30946bde3a05e40df6fbb49c5dd9b627">data::y</a></div><div class="ttdeci">matrix y</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/data_8h_source.html#l00024">data.h:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_cgraph.png" border="0" usemap="#db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_cgraph" id="db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_cgraph">
<area shape="rect" id="node2" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="209,5,291,31"/>
<area shape="rect" id="node3" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024" title="float_to_image" alt="" coords="196,55,305,80"/>
<area shape="rect" id="node5" href="../../dc/dca/matrix_8c.html#a47438b60c4cf871ff2523161d8a26eef" title="make_matrix" alt="" coords="201,104,299,129"/>
<area shape="rect" id="node6" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43" title="rotate_image_cw" alt="" coords="189,153,312,179"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="193,203,307,228"/>
<area shape="rect" id="node4" href="../../d3/d10/image_8c.html#a28bb9f835989b2f7e908386421c52837" title="make_empty_image" alt="" coords="360,55,501,80"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_icgraph.png" border="0" usemap="#db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_icgraph" id="db/d2a/go_8c_a4f610a96be9e62cbff6c70e1ec9c227a_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d" title="train_go" alt="" coords="189,5,258,31"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="306,5,369,31"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="417,5,467,31"/>
</map>
</div>

</div>
</div>
<a id="a6dc1ee84d43a5f685069206988bbddcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dc1ee84d43a5f685069206988bbddcc">&#9670;&nbsp;</a></span>remove_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remove_connected </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00317">317</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (r &lt; 0 || r &gt;= 19 || c &lt; 0 || c &gt;= 19) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (b[r*19 + c] != p) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> (lib[r*19 + c] != 1) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    b[r*19 + c] = 0;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, lib, p, r+1, c);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, lib, p, r-1, c);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, lib, p, r, c+1);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a>(b, lib, p, r, c-1);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="ttc" id="go_8c_html_a6dc1ee84d43a5f685069206988bbddcc"><div class="ttname"><a href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc">remove_connected</a></div><div class="ttdeci">void remove_connected(float *b, int *lib, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00317">go.c:317</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a6dc1ee84d43a5f685069206988bbddcc_icgraph.png" border="0" usemap="#db/d2a/go_8c_a6dc1ee84d43a5f685069206988bbddcc_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a6dc1ee84d43a5f685069206988bbddcc_icgraph" id="db/d2a/go_8c_a6dc1ee84d43a5f685069206988bbddcc_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="188,58,264,83"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="594,33,678,58"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="312,33,384,58"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="604,83,668,109"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="456,134,522,159"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="726,83,788,109"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="836,83,887,109"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="432,33,546,58"/>
</map>
</div>

</div>
</div>
<a id="acbc5b7a174f506f13ab6d0fca1faa102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc5b7a174f506f13ab6d0fca1faa102">&#9670;&nbsp;</a></span>run_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_go </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00871">871</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00491">engine_go()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00080">find_arg()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00123">find_char_arg()</a>, <a class="el" href="../../d5/d33/cuda_8c_source.html#l00001">gpu_index</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00124">train_go()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00441">valid_go()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/df8/darknet_8c_source.html#l00389">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">//boards_go();</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span>(argc &lt; 4){</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;usage: %s %s [train/test/valid] [cfg] [weights (optional)]\n&quot;</span>, argv[0], argv[1]);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordtype">char</span> *gpu_list = <a class="code" href="../../d3/d91/utils_8c.html#a22c33a506b0842cadb2a5530a25ca7bf">find_char_arg</a>(argc, argv, <span class="stringliteral">&quot;-gpus&quot;</span>, 0);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">int</span> *gpus = 0;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordtype">int</span> gpu = 0;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordtype">int</span> ngpus = 0;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span>(gpu_list){</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, gpu_list);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordtype">int</span> len = strlen(gpu_list);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        ngpus = 1;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; len; ++i){</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">if</span> (gpu_list[i] == <span class="charliteral">&#39;,&#39;</span>) ++ngpus;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        gpus = calloc(ngpus, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; ngpus; ++i){</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            gpus[i] = atoi(gpu_list);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            gpu_list = strchr(gpu_list, <span class="charliteral">&#39;,&#39;</span>)+1;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        gpu = <a class="code" href="../../d5/d33/cuda_8c.html#a4bd97081f0d76d0c9084ae88dfd68621">gpu_index</a>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        gpus = &amp;gpu;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        ngpus = 1;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordtype">int</span> clear = <a class="code" href="../../d3/d91/utils_8c.html#a845f7b956fcb9711346b8189e18d3846">find_arg</a>(argc, argv, <span class="stringliteral">&quot;-clear&quot;</span>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordtype">char</span> *cfg = argv[3];</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordtype">char</span> *weights = (argc &gt; 4) ? argv[4] : 0;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordtype">char</span> *c2 = (argc &gt; 5) ? argv[5] : 0;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordtype">char</span> *w2 = (argc &gt; 6) ? argv[6] : 0;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">int</span> multi = <a class="code" href="../../d3/d91/utils_8c.html#a845f7b956fcb9711346b8189e18d3846">find_arg</a>(argc, argv, <span class="stringliteral">&quot;-multi&quot;</span>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span>(0==strcmp(argv[2], <span class="stringliteral">&quot;train&quot;</span>)) <a class="code" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d">train_go</a>(cfg, weights, c2, gpus, ngpus, clear);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(0==strcmp(argv[2], <span class="stringliteral">&quot;valid&quot;</span>)) <a class="code" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142">valid_go</a>(cfg, weights, multi, c2);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(0==strcmp(argv[2], <span class="stringliteral">&quot;self&quot;</span>)) <a class="code" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a">self_go</a>(cfg, weights, c2, w2, multi);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(0==strcmp(argv[2], <span class="stringliteral">&quot;test&quot;</span>)) <a class="code" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d">test_go</a>(cfg, weights, multi);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(0==strcmp(argv[2], <span class="stringliteral">&quot;engine&quot;</span>)) <a class="code" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818">engine_go</a>(cfg, weights, multi);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="go_8c_html_a88ad2f96f9ea8092406bcb8f1873e92d"><div class="ttname"><a href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d">test_go</a></div><div class="ttdeci">void test_go(char *cfg, char *weights, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00684">go.c:684</a></div></div>
<div class="ttc" id="go_8c_html_ae3949a68287cfeb7a1c35abfca445142"><div class="ttname"><a href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142">valid_go</a></div><div class="ttdeci">void valid_go(char *cfgfile, char *weightfile, int multi, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00441">go.c:441</a></div></div>
<div class="ttc" id="go_8c_html_a634a03028ba512387aae19012c424818"><div class="ttname"><a href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818">engine_go</a></div><div class="ttdeci">void engine_go(char *filename, char *weightfile, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00491">go.c:491</a></div></div>
<div class="ttc" id="utils_8c_html_a22c33a506b0842cadb2a5530a25ca7bf"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a22c33a506b0842cadb2a5530a25ca7bf">find_char_arg</a></div><div class="ttdeci">char * find_char_arg(int argc, char **argv, char *arg, char *def)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00123">utils.c:123</a></div></div>
<div class="ttc" id="cuda_8c_html_a4bd97081f0d76d0c9084ae88dfd68621"><div class="ttname"><a href="../../d5/d33/cuda_8c.html#a4bd97081f0d76d0c9084ae88dfd68621">gpu_index</a></div><div class="ttdeci">int gpu_index</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d33/cuda_8c_source.html#l00001">cuda.c:1</a></div></div>
<div class="ttc" id="go_8c_html_aef3d780fb37b0f0a08f1eb90a807247a"><div class="ttname"><a href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a">self_go</a></div><div class="ttdeci">void self_go(char *filename, char *weightfile, char *f2, char *w2, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00790">go.c:790</a></div></div>
<div class="ttc" id="go_8c_html_a1bee8a9fcda465fdc3b9cf57b7646f7d"><div class="ttname"><a href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d">train_go</a></div><div class="ttdeci">void train_go(char *cfgfile, char *weightfile, char *filename, int *gpus, int ngpus, int clear)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00124">go.c:124</a></div></div>
<div class="ttc" id="utils_8c_html_a845f7b956fcb9711346b8189e18d3846"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a845f7b956fcb9711346b8189e18d3846">find_arg</a></div><div class="ttdeci">int find_arg(int argc, char *argv[], char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00080">utils.c:80</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_cgraph.png" border="0" usemap="#db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_cgraph" id="db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="126,414,209,439"/>
<area shape="rect" id="node32" href="../../d3/d91/utils_8c.html#a845f7b956fcb9711346b8189e18d3846" title="find_arg" alt="" coords="133,1357,202,1382"/>
<area shape="rect" id="node34" href="../../d3/d91/utils_8c.html#a22c33a506b0842cadb2a5530a25ca7bf" title="find_char_arg" alt="" coords="116,1533,219,1558"/>
<area shape="rect" id="node35" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="135,591,200,617"/>
<area shape="rect" id="node37" href="../../db/d2a/go_8c.html#a88ad2f96f9ea8092406bcb8f1873e92d" title="test_go" alt="" coords="302,718,367,743"/>
<area shape="rect" id="node38" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d" title="train_go" alt="" coords="133,1245,202,1270"/>
<area shape="rect" id="node50" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142" title="valid_go" alt="" coords="299,870,370,895"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18" title="board_to_string" alt="" coords="646,313,760,338"/>
<area shape="rect" id="node4" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3" title="fgetl" alt="" coords="866,193,913,218"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="278,465,392,490"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="665,462,741,487"/>
<area shape="rect" id="node15" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877" title="print_board" alt="" coords="473,363,562,389"/>
<area shape="rect" id="node19" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="468,1015,567,1041"/>
<area shape="rect" id="node21" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="451,914,585,939"/>
<area shape="rect" id="node30" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245" title="print_game" alt="" coords="474,59,562,85"/>
<area shape="rect" id="node31" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a" title="set_batch_network" alt="" coords="451,711,584,737"/>
<area shape="rect" id="node5" href="../../d3/d91/utils_8c.html#acab41f0a0d61cac3b20102d02e897780" title="malloc_error" alt="" coords="1005,193,1100,218"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227" title="flip_board" alt="" coords="478,511,557,537"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="482,462,553,487"/>
<area shape="rect" id="node13" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf" title="max_index" alt="" coords="475,610,560,635"/>
<area shape="rect" id="node14" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="467,813,568,838"/>
<area shape="rect" id="node16" href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000" title="sample_array" alt="" coords="466,413,569,438"/>
<area shape="rect" id="node17" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="661,237,746,262"/>
<area shape="rect" id="node18" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b" title="top_k" alt="" coords="491,561,544,586"/>
<area shape="rect" id="node12" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="646,1135,760,1161"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="826,325,953,350"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="822,462,957,487"/>
<area shape="rect" id="node20" href="../../d2/d72/parser_8c.html#abb17f71fa3838540cc5eff6492cce5e6" title="load_weights_upto" alt="" coords="637,1185,769,1210"/>
<area shape="rect" id="node22" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="667,738,740,763"/>
<area shape="rect" id="node23" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="865,1037,914,1062"/>
<area shape="rect" id="node24" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="649,839,757,865"/>
<area shape="rect" id="node25" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="661,889,746,914"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="638,1037,769,1062"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="656,938,750,963"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="633,987,774,1013"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="633,1086,773,1111"/>
<area shape="rect" id="node33" href="../../d3/d91/utils_8c.html#ae8f911d0e43e2013b752049d7fd8aa48" title="del_arg" alt="" coords="302,1571,368,1597"/>
<area shape="rect" id="node36" href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85" title="score_game" alt="" coords="287,110,382,135"/>
<area shape="rect" id="node39" href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b" title="basecfg" alt="" coords="484,1258,552,1283"/>
<area shape="rect" id="node40" href="../../d6/d6e/network_8c.html#aa06b8ad6a6fb64daed0801ad5d4009a2" title="load_network" alt="" coords="284,919,385,945"/>
<area shape="rect" id="node41" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9" title="load_go_moves" alt="" coords="460,1307,575,1333"/>
<area shape="rect" id="node42" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59" title="get_current_batch" alt="" coords="453,1434,582,1459"/>
<area shape="rect" id="node43" href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a" title="random_go_moves" alt="" coords="267,1371,403,1397"/>
<area shape="rect" id="node44" href="../../d3/d91/utils_8c.html#a375f4de29b8973c3e1b63bf49a5eb00e" title="sec" alt="" coords="314,1170,356,1195"/>
<area shape="rect" id="node45" href="../../d6/d6e/network_8c.html#aeb752f771f5cfe8c401fc8dee8f3e439" title="train_network" alt="" coords="284,1219,385,1245"/>
<area shape="rect" id="node46" href="../../de/da9/data_8c.html#a4b0ce36f011ddb4b2ba58f58114d3219" title="free_data" alt="" coords="296,1522,374,1547"/>
<area shape="rect" id="node47" href="../../d6/d6e/network_8c.html#ac997daf700149608de15d93a083c33dc" title="get_current_rate" alt="" coords="275,1421,394,1446"/>
<area shape="rect" id="node48" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10" title="save_weights" alt="" coords="284,1071,386,1097"/>
<area shape="rect" id="node49" href="../../d6/d6e/network_8c.html#a0ea16ce7d9aefb606cc9dac3e322b447" title="free_network" alt="" coords="286,1121,384,1146"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_icgraph.png" border="0" usemap="#db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_icgraph" id="db/d2a/go_8c_acbc5b7a174f506f13ab6d0fca1faa102_icgraph">
<area shape="rect" id="node2" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="116,5,166,31"/>
</map>
</div>

</div>
</div>
<a id="ad6d52f67407a3866ab526806ee6def85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d52f67407a3866ab526806ee6def85">&#9670;&nbsp;</a></span>score_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float score_game </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00764">764</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d91/utils_8c_source.html#l00280">fgetl()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00474">print_game()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00790">self_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;{</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    FILE *f = fopen(<span class="stringliteral">&quot;game.txt&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordtype">int</span> count = <a class="code" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245">print_game</a>(board, f);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    fprintf(f, <span class="stringliteral">&quot;final_score\n&quot;</span>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    fclose(f);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    FILE *p = popen(<span class="stringliteral">&quot;./gnugo --mode gtp &lt; game.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; count; ++i){</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        free(<a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p));</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        free(<a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p));</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordtype">char</span> *l = 0;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordtype">float</span> score = 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordtype">char</span> player = 0;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">while</span>((l = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(p))){</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;%s  \t&quot;</span>, l);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordtype">int</span> n = sscanf(l, <span class="stringliteral">&quot;= %c+%f&quot;</span>, &amp;player, &amp;score);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        free(l);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">if</span> (n == 2) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span>(player == <span class="charliteral">&#39;W&#39;</span>) score = -score;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    pclose(p);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="ttc" id="utils_8c_html_a153eabd234972b240608df09cc4975d3"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a></div><div class="ttdeci">char * fgetl(FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00280">utils.c:280</a></div></div>
<div class="ttc" id="go_8c_html_abecaf7ce58e9ebf3455756a62384c245"><div class="ttname"><a href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245">print_game</a></div><div class="ttdeci">int print_game(float *board, FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00474">go.c:474</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_cgraph.png" border="0" usemap="#db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_cgraph" id="db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_cgraph">
<area shape="rect" id="node2" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3" title="fgetl" alt="" coords="169,5,215,31"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#abecaf7ce58e9ebf3455756a62384c245" title="print_game" alt="" coords="148,55,236,80"/>
<area shape="rect" id="node3" href="../../d3/d91/utils_8c.html#acab41f0a0d61cac3b20102d02e897780" title="malloc_error" alt="" coords="284,5,380,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_icgraph.png" border="0" usemap="#db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_icgraph" id="db/d2a/go_8c_ad6d52f67407a3866ab526806ee6def85_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="148,5,212,31"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="260,5,323,31"/>
<area shape="rect" id="node4" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="371,5,421,31"/>
</map>
</div>

</div>
</div>
<a id="aef3d780fb37b0f0a08f1eb90a807247a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3d780fb37b0f0a08f1eb90a807247a">&#9670;&nbsp;</a></span>self_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void self_go </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weightfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>f2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>w2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00790">790</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00072">board_to_string()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00280">flip_board()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01127">load_weights()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00618">parse_network_cfg()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00764">score_game()</a>, and <a class="el" href="../../d6/d6e/network_8c_source.html#l00285">set_batch_network()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00871">run_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net = <a class="code" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a>(filename);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span>(weightfile){</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a>(&amp;net, weightfile);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net2 = net;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span>(f2){</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        net2 = <a class="code" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a>(f2);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">if</span>(w2){</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <a class="code" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a>(&amp;net2, w2);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    srand(time(0));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordtype">char</span> boards[600][93];</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a>(&amp;net, 1);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a>(&amp;net2, 1);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordtype">float</span> *board = calloc(19*19, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">char</span> *one = calloc(91, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordtype">char</span> *two = calloc(91, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordtype">int</span> done = 0;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordtype">int</span> player = 1;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">int</span> p1 = 0;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordtype">int</span> p2 = 0;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> total = 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">while</span>(1){</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (done){</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordtype">float</span> score = <a class="code" href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85">score_game</a>(board);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">if</span>((score &gt; 0) == (total%2==0)) ++p1;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordflow">else</span> ++p2;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            ++total;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Total: %d, Player 1: %f, Player 2: %f\n&quot;</span>, total, (<span class="keywordtype">float</span>)p1/total, (<span class="keywordtype">float</span>)p2/total);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            sleep(1);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">            int i = (score &gt; 0)? 0 : 1;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">            int j;</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">            for(; i &lt; count; i += 2){</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">                for(j = 0; j &lt; 93; ++j){</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">                    printf(&quot;%c&quot;, boards[i][j]);</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">                }</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">                printf(&quot;\n&quot;);</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            memset(board, 0, 19*19*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            player = 1;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            done = 0;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            count = 0;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            fflush(stdout);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            fflush(stderr);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a>(stderr, board, 1, 0);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="comment">//sleep(1);</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="../../de/d45/structnetwork.html">network</a> use = ((total%2==0) == (player==1)) ? net : net2;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordtype">int</span> index = <a class="code" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336">generate_move</a>(use, player, board, multi, .4, 1, two, 0);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span>(index &lt; 0){</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            done = 1;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordtype">int</span> row = index / 19;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="keywordtype">int</span> col = index % 19;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordtype">char</span> *swap = two;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        two = one;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        one = swap;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">if</span>(player &lt; 0) <a class="code" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a>(board);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        boards[count][0] = row;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        boards[count][1] = col;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(boards[count] + 2, board);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span>(player &lt; 0) <a class="code" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a>(board);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        ++count;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(board, player, row, col);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a>(one, board);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        player = -player;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="go_8c_html_a4fcf68963d283904716e37878758a5d6"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a></div><div class="ttdeci">void move_go(float *b, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00330">go.c:330</a></div></div>
<div class="ttc" id="go_8c_html_aa0fac0d936e0738437f8204555d2b877"><div class="ttname"><a href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a></div><div class="ttdeci">void print_board(FILE *stream, float *board, int swap, int *indexes)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00237">go.c:237</a></div></div>
<div class="ttc" id="structnetwork_html"><div class="ttname"><a href="../../de/d45/structnetwork.html">network</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00014">network.h:14</a></div></div>
<div class="ttc" id="parser_8c_html_abb6f2aa1c5d5bf340faae09be6538c56"><div class="ttname"><a href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a></div><div class="ttdeci">network parse_network_cfg(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l00618">parser.c:618</a></div></div>
<div class="ttc" id="network_8c_html_a0cf39a1104b8f0415c56796b54a3670a"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a></div><div class="ttdeci">void set_batch_network(network *net, int b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00285">network.c:285</a></div></div>
<div class="ttc" id="go_8c_html_ad6d52f67407a3866ab526806ee6def85"><div class="ttname"><a href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85">score_game</a></div><div class="ttdeci">float score_game(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00764">go.c:764</a></div></div>
<div class="ttc" id="go_8c_html_a9307b0658d55b7b789b8386553d83336"><div class="ttname"><a href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336">generate_move</a></div><div class="ttdeci">int generate_move(network net, int player, float *board, int multi, float thresh, float temp, char *ko, int print)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00377">go.c:377</a></div></div>
<div class="ttc" id="go_8c_html_a58d8c150474f6f2394a764cb3a216227"><div class="ttname"><a href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a></div><div class="ttdeci">void flip_board(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00280">go.c:280</a></div></div>
<div class="ttc" id="go_8c_html_add4047a6b13dcaa1653e9f6a953a7c18"><div class="ttname"><a href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18">board_to_string</a></div><div class="ttdeci">void board_to_string(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00072">go.c:72</a></div></div>
<div class="ttc" id="parser_8c_html_a60957f4d236ea8e417999b1778ec3d55"><div class="ttname"><a href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a></div><div class="ttdeci">void load_weights(network *net, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l01127">parser.c:1127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_cgraph.png" border="0" usemap="#db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_cgraph" id="db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#add4047a6b13dcaa1653e9f6a953a7c18" title="board_to_string" alt="" coords="523,9,637,34"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227" title="flip_board" alt="" coords="337,136,417,161"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="128,286,242,312"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="542,85,618,110"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877" title="print_board" alt="" coords="333,434,421,460"/>
<area shape="rect" id="node15" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="135,484,234,509"/>
<area shape="rect" id="node17" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="118,1204,252,1229"/>
<area shape="rect" id="node49" href="../../db/d2a/go_8c.html#ad6d52f67407a3866ab526806ee6def85" title="score_game" alt="" coords="137,1253,232,1278"/>
<area shape="rect" id="node50" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a" title="set_batch_network" alt="" coords="118,1302,251,1328"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="341,34,413,60"/>
<area shape="rect" id="node9" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf" title="max_index" alt="" coords="334,237,420,262"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="326,286,428,312"/>
<area shape="rect" id="node12" href="../../d3/d91/utils_8c.html#a505834ece1ee5be76ac5763e397ed000" title="sample_array" alt="" coords="326,336,428,361"/>
<area shape="rect" id="node13" href="../../db/d2a/go_8c.html#a7ccdbba6020a5a2bfe35524ed01d83df" title="suicide_go" alt="" coords="538,173,623,198"/>
<area shape="rect" id="node14" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b" title="top_k" alt="" coords="350,385,404,410"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="710,148,837,173"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="706,85,841,110"/>
<area shape="rect" id="node16" href="../../d2/d72/parser_8c.html#abb17f71fa3838540cc5eff6492cce5e6" title="load_weights_upto" alt="" coords="311,484,443,509"/>
<area shape="rect" id="node18" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="340,533,414,558"/>
<area shape="rect" id="node19" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="555,808,605,833"/>
<area shape="rect" id="node20" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="323,1577,431,1602"/>
<area shape="rect" id="node21" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="335,1626,420,1652"/>
<area shape="rect" id="node22" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="312,980,443,1005"/>
<area shape="rect" id="node23" href="../../d8/ddc/option__list_8c.html#a8d1e0e1e5d373284b9fccf658239ee35" title="option_find_int_quiet" alt="" coords="508,1105,652,1130"/>
<area shape="rect" id="node24" href="../../d8/ddc/option__list_8c.html#a9288689d608093160368113dbdd8ba34" title="option_find_float_quiet" alt="" coords="502,1426,658,1452"/>
<area shape="rect" id="node25" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="330,1676,424,1701"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="306,1725,448,1750"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="307,1029,447,1054"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a7ad1750e2fb2e9403fa68f21a2c62c28" title="parse_deconvolutional" alt="" coords="300,782,454,808"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#ae36102ed30d5b253ec3c58df3192c771" title="parse_local" alt="" coords="332,634,422,660"/>
<area shape="rect" id="node30" href="../../d2/d72/parser_8c.html#aa6d3ed6372d755d53624f85c06da7dbe" title="parse_activation" alt="" coords="318,1774,436,1800"/>
<area shape="rect" id="node31" href="../../d2/d72/parser_8c.html#a5504899aea1400dbc33dba8eac459460" title="parse_rnn" alt="" coords="336,1130,418,1156"/>
<area shape="rect" id="node32" href="../../d2/d72/parser_8c.html#af8d59a4d921f3c03b0977d39feb14ced" title="parse_gru" alt="" coords="336,1180,418,1205"/>
<area shape="rect" id="node33" href="../../d2/d72/parser_8c.html#a4e1046e1d1d1030ad9f473d9b930f2a0" title="parse_crnn" alt="" coords="333,1229,421,1254"/>
<area shape="rect" id="node34" href="../../d2/d72/parser_8c.html#a0ac5e58f1dd180ce1ae1bddc3bb47596" title="parse_connected" alt="" coords="315,1278,439,1304"/>
<area shape="rect" id="node35" href="../../d2/d72/parser_8c.html#a8d1bd90ea4beb8fc3069999af7f4448f" title="parse_crop" alt="" coords="333,832,421,857"/>
<area shape="rect" id="node36" href="../../d2/d72/parser_8c.html#a853d2066af42522c1de3f97d0bc0ff29" title="parse_cost" alt="" coords="334,1528,420,1553"/>
<area shape="rect" id="node37" href="../../d2/d72/parser_8c.html#afedfffed817f89349b250c4afe09041c" title="parse_region" alt="" coords="327,1328,427,1353"/>
<area shape="rect" id="node38" href="../../d2/d72/parser_8c.html#ab5cfcdcccf8d8f3fa5f46d4528a70cab" title="parse_detection" alt="" coords="319,1377,435,1402"/>
<area shape="rect" id="node39" href="../../d2/d72/parser_8c.html#a1f908ce65d9b8a102e754f61f00882b3" title="parse_softmax" alt="" coords="323,1426,431,1452"/>
<area shape="rect" id="node40" href="../../d2/d72/parser_8c.html#a070f2ff614c49ca43151b17082372374" title="parse_normalization" alt="" coords="306,1824,448,1849"/>
<area shape="rect" id="node41" href="../../d2/d72/parser_8c.html#a912380cd9e2ee925a2e0af57cbde0511" title="parse_batchnorm" alt="" coords="314,1873,440,1898"/>
<area shape="rect" id="node42" href="../../d2/d72/parser_8c.html#abef6e6b93a1c7ba7aef41bf2b95e9d27" title="parse_maxpool" alt="" coords="321,881,433,906"/>
<area shape="rect" id="node43" href="../../d2/d72/parser_8c.html#a934cdac39f052fe5f89407b9c99e729e" title="parse_reorg" alt="" coords="330,930,424,956"/>
<area shape="rect" id="node44" href="../../d2/d72/parser_8c.html#ad30661bf80ffee22a45132dbcd53043d" title="parse_avgpool" alt="" coords="323,684,431,709"/>
<area shape="rect" id="node45" href="../../d2/d72/parser_8c.html#a6a5c32c49b1a691f4e699760b72aff57" title="parse_route" alt="" coords="331,733,423,758"/>
<area shape="rect" id="node46" href="../../d2/d72/parser_8c.html#ab297102c068c53158161d4b13d03a53b" title="parse_shortcut" alt="" coords="322,1922,432,1948"/>
<area shape="rect" id="node47" href="../../d2/d72/parser_8c.html#acd4507a8980581f176f52500997f32ed" title="parse_dropout" alt="" coords="323,1972,431,1997"/>
<area shape="rect" id="node48" href="../../d8/ddc/option__list_8c.html#abbe6c95ecd6cf53e02d0e49c2cc6adac" title="option_unused" alt="" coords="323,2021,431,2046"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_icgraph.png" border="0" usemap="#db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_icgraph" id="db/d2a/go_8c_aef3d780fb37b0f0a08f1eb90a807247a_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="118,5,181,31"/>
<area shape="rect" id="node3" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="229,5,279,31"/>
</map>
</div>

</div>
</div>
<a id="a17432d5a451dec0ceeb8db0e17ebe207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17432d5a451dec0ceeb8db0e17ebe207">&#9670;&nbsp;</a></span>string_to_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void string_to_board </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00053">53</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00364">legal_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00089">random_go_moves()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00441">valid_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">//memset(board, 0, 1*19*19*sizeof(float));</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 91; ++i){</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">char</span> c = s[i];</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j){</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordtype">int</span> me = (c &gt;&gt; (2*j)) &amp; 1;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keywordtype">int</span> you = (c &gt;&gt; (2*j + 1)) &amp; 1;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">if</span> (me) board[count] = 1;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (you) board[count] = -1;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">else</span> board[count] = 0;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            ++count;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span>(count &gt;= 19*19) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a17432d5a451dec0ceeb8db0e17ebe207_icgraph.png" border="0" usemap="#db/d2a/go_8c_a17432d5a451dec0ceeb8db0e17ebe207_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a17432d5a451dec0ceeb8db0e17ebe207_icgraph" id="db/d2a/go_8c_a17432d5a451dec0ceeb8db0e17ebe207_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a5e615416377c6eccb3f3bb611336dce7" title="legal_go" alt="" coords="199,55,271,80"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a" title="random_go_moves" alt="" coords="167,105,303,131"/>
<area shape="rect" id="node10" href="../../db/d2a/go_8c.html#ae3949a68287cfeb7a1c35abfca445142" title="valid_go" alt="" coords="372,156,443,181"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="351,55,465,80"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="513,5,596,31"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="522,55,587,80"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="644,80,707,105"/>
<area shape="rect" id="node6" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="755,80,805,105"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a1bee8a9fcda465fdc3b9cf57b7646f7d" title="train_go" alt="" coords="373,105,443,131"/>
</map>
</div>

</div>
</div>
<a id="a7ccdbba6020a5a2bfe35524ed01d83df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccdbba6020a5a2bfe35524ed01d83df">&#9670;&nbsp;</a></span>suicide_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int suicide_go </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00352">352</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/go_8c_source.html#l00217">calculate_liberties()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00341">makes_safe_go()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">int</span> *l = <a class="code" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82">calculate_liberties</a>(b);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">int</span> safe = 0;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    safe = safe || <a class="code" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a>(b, l, p, r+1, c);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    safe = safe || <a class="code" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a>(b, l, p, r-1, c);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    safe = safe || <a class="code" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a>(b, l, p, r, c+1);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    safe = safe || <a class="code" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a>(b, l, p, r, c-1);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    free(l);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> !safe;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="ttc" id="go_8c_html_ad09dd9290ff87d0d9143f5d97b3f440d"><div class="ttname"><a href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d">makes_safe_go</a></div><div class="ttdeci">int makes_safe_go(float *b, int *lib, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00341">go.c:341</a></div></div>
<div class="ttc" id="go_8c_html_a0325b17ac24c70c48cc3d31942ca8d82"><div class="ttname"><a href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82">calculate_liberties</a></div><div class="ttdeci">int * calculate_liberties(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00217">go.c:217</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_cgraph.png" border="0" usemap="#db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_cgraph" id="db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_cgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="138,5,266,31"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#ad09dd9290ff87d0d9143f5d97b3f440d" title="makes_safe_go" alt="" coords="144,55,260,80"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a4815ef06123df68153376568ad5dad2b" title="propagate_liberty" alt="" coords="314,5,438,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_icgraph.png" border="0" usemap="#db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_icgraph" id="db/d2a/go_8c_a7ccdbba6020a5a2bfe35524ed01d83df_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#a9307b0658d55b7b789b8386553d83336" title="generate_move" alt="" coords="138,31,252,56"/>
<area shape="rect" id="node3" href="../../db/d2a/go_8c.html#a634a03028ba512387aae19012c424818" title="engine_go" alt="" coords="300,5,384,31"/>
<area shape="rect" id="node6" href="../../db/d2a/go_8c.html#aef3d780fb37b0f0a08f1eb90a807247a" title="self_go" alt="" coords="310,55,374,80"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="432,31,495,56"/>
<area shape="rect" id="node5" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="543,31,593,56"/>
</map>
</div>

</div>
</div>
<a id="a88ad2f96f9ea8092406bcb8f1873e92d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88ad2f96f9ea8092406bcb8f1873e92d">&#9670;&nbsp;</a></span>test_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_go </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00684">684</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d91/utils_8c_source.html#l00280">fgetl()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00280">flip_board()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00009">inverted</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01127">load_weights()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00330">move_go()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00011">nind</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00010">noi</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00618">parse_network_cfg()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00288">predict_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00285">set_batch_network()</a>, and <a class="el" href="../../d3/d91/utils_8c_source.html#l00197">top_k()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00871">run_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net = <a class="code" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a>(cfg);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span>(weights){</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a>(&amp;net, weights);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    srand(time(0));</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a>(&amp;net, 1);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">float</span> *board = calloc(19*19, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">float</span> *move = calloc(19*19+1, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">int</span> color = 1;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">while</span>(1){</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a>(net, board, move, multi);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordtype">int</span> indexes[<a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>];</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordtype">int</span> row, col;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <a class="code" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b">top_k</a>(move, 19*19+1, <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>, indexes);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a>(stderr, board, color, indexes);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a>; ++i){</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordtype">int</span> index = indexes[i];</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            row = index / 19;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            col = index % 19;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">if</span>(row == 19){</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                printf(<span class="stringliteral">&quot;%d: Pass, %.2f%%\n&quot;</span>, i+1, move[index]*100);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                printf(<span class="stringliteral">&quot;%d: %c %d, %.2f%%\n&quot;</span>, i+1, col + <span class="charliteral">&#39;A&#39;</span> + 1*(col &gt; 7 &amp;&amp; <a class="code" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a>), (<a class="code" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a>)?19 - row : row+1, move[index]*100);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">//if(color == 1) printf(&quot;\u25EF Enter move: &quot;);</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="comment">//else printf(&quot;\u25C9 Enter move: &quot;);</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span>(color == 1) printf(<span class="stringliteral">&quot;X Enter move: &quot;</span>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">else</span> printf(<span class="stringliteral">&quot;O Enter move: &quot;</span>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordtype">char</span> c;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordtype">char</span> *line = <a class="code" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a>(stdin);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordtype">int</span> picked = 1;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordtype">int</span> dnum = sscanf(line, <span class="stringliteral">&quot;%d&quot;</span>, &amp;picked);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordtype">int</span> cnum = sscanf(line, <span class="stringliteral">&quot;%c&quot;</span>, &amp;c);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span> (strlen(line) == 0 || dnum) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            --picked;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">if</span> (picked &lt; nind){</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                <span class="keywordtype">int</span> index = indexes[picked];</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                row = index / 19;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                col = index % 19;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">if</span>(row &lt; 19){</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(board, 1, row, col);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cnum){</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordflow">if</span> (c &lt;= &#39;T&#39; &amp;&amp; c &gt;= <span class="charliteral">&#39;A&#39;</span>){</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="keywordtype">int</span> num = sscanf(line, <span class="stringliteral">&quot;%c %d&quot;</span>, &amp;c, &amp;row);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                row = (<a class="code" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a>)?19 - row : row-1;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                col = c - <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                <span class="keywordflow">if</span> (col &gt; 7 &amp;&amp; <a class="code" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a>) col -= 1;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="keywordflow">if</span> (num == 2) <a class="code" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a>(board, 1, row, col);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;p&#39;</span>) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <span class="comment">// Pass</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(c==<span class="charliteral">&#39;b&#39;</span> || c == <span class="charliteral">&#39;w&#39;</span>){</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordtype">char</span> g;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="keywordtype">int</span> num = sscanf(line, <span class="stringliteral">&quot;%c %c %d&quot;</span>, &amp;g, &amp;c, &amp;row);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                row = (<a class="code" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a>)?19 - row : row-1;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                col = c - <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <span class="keywordflow">if</span> (col &gt; 7 &amp;&amp; <a class="code" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a>) col -= 1;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">if</span> (num == 3) board[row*19 + col] = (g == <span class="charliteral">&#39;b&#39;</span>) ? color : -color;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;c&#39;</span>){</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <span class="keywordtype">char</span> g;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keywordtype">int</span> num = sscanf(line, <span class="stringliteral">&quot;%c %c %d&quot;</span>, &amp;g, &amp;c, &amp;row);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                row = (<a class="code" href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a>)?19 - row : row-1;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                col = c - <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="keywordflow">if</span> (col &gt; 7 &amp;&amp; <a class="code" href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a>) col -= 1;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="keywordflow">if</span> (num == 3) board[row*19 + col] = 0;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        free(line);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a>(board);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        color = -color;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div><div class="ttc" id="utils_8c_html_a153eabd234972b240608df09cc4975d3"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3">fgetl</a></div><div class="ttdeci">char * fgetl(FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00280">utils.c:280</a></div></div>
<div class="ttc" id="go_8c_html_a4fcf68963d283904716e37878758a5d6"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6">move_go</a></div><div class="ttdeci">void move_go(float *b, int p, int r, int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00330">go.c:330</a></div></div>
<div class="ttc" id="go_8c_html_aa0fac0d936e0738437f8204555d2b877"><div class="ttname"><a href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877">print_board</a></div><div class="ttdeci">void print_board(FILE *stream, float *board, int swap, int *indexes)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00237">go.c:237</a></div></div>
<div class="ttc" id="go_8c_html_afd34566fdbd8e7f8f4d5b750a3040191"><div class="ttname"><a href="../../db/d2a/go_8c.html#afd34566fdbd8e7f8f4d5b750a3040191">noi</a></div><div class="ttdeci">int noi</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00010">go.c:10</a></div></div>
<div class="ttc" id="utils_8c_html_aafc3b7bab809d8bc77b7353fd43f731b"><div class="ttname"><a href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b">top_k</a></div><div class="ttdeci">void top_k(float *a, int n, int k, int *index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00197">utils.c:197</a></div></div>
<div class="ttc" id="structnetwork_html"><div class="ttname"><a href="../../de/d45/structnetwork.html">network</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00014">network.h:14</a></div></div>
<div class="ttc" id="go_8c_html_afb8b8c2cb2d9d8a7ea35a5d6133a9657"><div class="ttname"><a href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a></div><div class="ttdeci">void predict_move(network net, float *board, float *move, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00288">go.c:288</a></div></div>
<div class="ttc" id="go_8c_html_ad9ac4abfd1668c2eff233db8a57475ce"><div class="ttname"><a href="../../db/d2a/go_8c.html#ad9ac4abfd1668c2eff233db8a57475ce">nind</a></div><div class="ttdeci">static const int nind</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00011">go.c:11</a></div></div>
<div class="ttc" id="go_8c_html_a2a99b4dc38f9b4ceadb80091e2dce12c"><div class="ttname"><a href="../../db/d2a/go_8c.html#a2a99b4dc38f9b4ceadb80091e2dce12c">inverted</a></div><div class="ttdeci">int inverted</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00009">go.c:9</a></div></div>
<div class="ttc" id="parser_8c_html_abb6f2aa1c5d5bf340faae09be6538c56"><div class="ttname"><a href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a></div><div class="ttdeci">network parse_network_cfg(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l00618">parser.c:618</a></div></div>
<div class="ttc" id="network_8c_html_a0cf39a1104b8f0415c56796b54a3670a"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a></div><div class="ttdeci">void set_batch_network(network *net, int b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00285">network.c:285</a></div></div>
<div class="ttc" id="go_8c_html_a58d8c150474f6f2394a764cb3a216227"><div class="ttname"><a href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227">flip_board</a></div><div class="ttdeci">void flip_board(float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00280">go.c:280</a></div></div>
<div class="ttc" id="parser_8c_html_a60957f4d236ea8e417999b1778ec3d55"><div class="ttname"><a href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a></div><div class="ttdeci">void load_weights(network *net, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l01127">parser.c:1127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_cgraph.png" border="0" usemap="#db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_cgraph" id="db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_cgraph">
<area shape="rect" id="node2" href="../../d3/d91/utils_8c.html#a153eabd234972b240608df09cc4975d3" title="fgetl" alt="" coords="558,27,604,53"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#a58d8c150474f6f2394a764cb3a216227" title="flip_board" alt="" coords="145,1677,225,1702"/>
<area shape="rect" id="node5" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="136,1726,235,1751"/>
<area shape="rect" id="node7" href="../../db/d2a/go_8c.html#a4fcf68963d283904716e37878758a5d6" title="move_go" alt="" coords="147,1775,223,1801"/>
<area shape="rect" id="node10" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="118,869,252,894"/>
<area shape="rect" id="node44" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="135,1825,236,1850"/>
<area shape="rect" id="node48" href="../../db/d2a/go_8c.html#aa0fac0d936e0738437f8204555d2b877" title="print_board" alt="" coords="141,1874,230,1899"/>
<area shape="rect" id="node49" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a" title="set_batch_network" alt="" coords="119,1923,252,1949"/>
<area shape="rect" id="node50" href="../../d3/d91/utils_8c.html#aafc3b7bab809d8bc77b7353fd43f731b" title="top_k" alt="" coords="158,1973,212,1998"/>
<area shape="rect" id="node3" href="../../d3/d91/utils_8c.html#acab41f0a0d61cac3b20102d02e897780" title="malloc_error" alt="" coords="707,27,802,53"/>
<area shape="rect" id="node6" href="../../d2/d72/parser_8c.html#abb17f71fa3838540cc5eff6492cce5e6" title="load_weights_upto" alt="" coords="312,1702,444,1727"/>
<area shape="rect" id="node8" href="../../db/d2a/go_8c.html#a0325b17ac24c70c48cc3d31942ca8d82" title="calculate_liberties" alt="" coords="314,1751,441,1777"/>
<area shape="rect" id="node9" href="../../db/d2a/go_8c.html#a6dc1ee84d43a5f685069206988bbddcc" title="remove_connected" alt="" coords="310,1801,445,1826"/>
<area shape="rect" id="node11" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="341,53,414,78"/>
<area shape="rect" id="node12" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="556,1429,606,1454"/>
<area shape="rect" id="node13" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="324,499,432,525"/>
<area shape="rect" id="node14" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="335,549,420,574"/>
<area shape="rect" id="node15" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="312,1154,443,1179"/>
<area shape="rect" id="node16" href="../../d8/ddc/option__list_8c.html#a8d1e0e1e5d373284b9fccf658239ee35" title="option_find_int_quiet" alt="" coords="509,1130,653,1155"/>
<area shape="rect" id="node17" href="../../d8/ddc/option__list_8c.html#a9288689d608093160368113dbdd8ba34" title="option_find_float_quiet" alt="" coords="503,203,659,229"/>
<area shape="rect" id="node18" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="331,598,425,623"/>
<area shape="rect" id="node19" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="307,647,448,673"/>
<area shape="rect" id="node20" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="308,253,448,278"/>
<area shape="rect" id="node21" href="../../d2/d72/parser_8c.html#a7ad1750e2fb2e9403fa68f21a2c62c28" title="parse_deconvolutional" alt="" coords="300,1403,455,1429"/>
<area shape="rect" id="node22" href="../../d2/d72/parser_8c.html#ae36102ed30d5b253ec3c58df3192c771" title="parse_local" alt="" coords="333,1502,423,1527"/>
<area shape="rect" id="node23" href="../../d2/d72/parser_8c.html#aa6d3ed6372d755d53624f85c06da7dbe" title="parse_activation" alt="" coords="319,697,437,722"/>
<area shape="rect" id="node24" href="../../d2/d72/parser_8c.html#a5504899aea1400dbc33dba8eac459460" title="parse_rnn" alt="" coords="337,302,418,327"/>
<area shape="rect" id="node25" href="../../d2/d72/parser_8c.html#af8d59a4d921f3c03b0977d39feb14ced" title="parse_gru" alt="" coords="337,351,418,377"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a4e1046e1d1d1030ad9f473d9b930f2a0" title="parse_crnn" alt="" coords="334,401,422,426"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#a0ac5e58f1dd180ce1ae1bddc3bb47596" title="parse_connected" alt="" coords="316,450,440,475"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a8d1bd90ea4beb8fc3069999af7f4448f" title="parse_crop" alt="" coords="334,1453,422,1478"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#a853d2066af42522c1de3f97d0bc0ff29" title="parse_cost" alt="" coords="334,102,421,127"/>
<area shape="rect" id="node30" href="../../d2/d72/parser_8c.html#afedfffed817f89349b250c4afe09041c" title="parse_region" alt="" coords="328,1105,427,1130"/>
<area shape="rect" id="node31" href="../../d2/d72/parser_8c.html#ab5cfcdcccf8d8f3fa5f46d4528a70cab" title="parse_detection" alt="" coords="320,1203,436,1229"/>
<area shape="rect" id="node32" href="../../d2/d72/parser_8c.html#a1f908ce65d9b8a102e754f61f00882b3" title="parse_softmax" alt="" coords="323,203,432,229"/>
<area shape="rect" id="node33" href="../../d2/d72/parser_8c.html#a070f2ff614c49ca43151b17082372374" title="parse_normalization" alt="" coords="307,746,448,771"/>
<area shape="rect" id="node34" href="../../d2/d72/parser_8c.html#a912380cd9e2ee925a2e0af57cbde0511" title="parse_batchnorm" alt="" coords="315,795,440,821"/>
<area shape="rect" id="node35" href="../../d2/d72/parser_8c.html#abef6e6b93a1c7ba7aef41bf2b95e9d27" title="parse_maxpool" alt="" coords="322,1305,434,1330"/>
<area shape="rect" id="node36" href="../../d2/d72/parser_8c.html#a934cdac39f052fe5f89407b9c99e729e" title="parse_reorg" alt="" coords="331,1354,424,1379"/>
<area shape="rect" id="node37" href="../../d2/d72/parser_8c.html#ad30661bf80ffee22a45132dbcd53043d" title="parse_avgpool" alt="" coords="323,1551,432,1577"/>
<area shape="rect" id="node38" href="../../d2/d72/parser_8c.html#a6a5c32c49b1a691f4e699760b72aff57" title="parse_route" alt="" coords="332,1601,424,1626"/>
<area shape="rect" id="node39" href="../../d2/d72/parser_8c.html#ab297102c068c53158161d4b13d03a53b" title="parse_shortcut" alt="" coords="323,845,433,870"/>
<area shape="rect" id="node40" href="../../d2/d72/parser_8c.html#acd4507a8980581f176f52500997f32ed" title="parse_dropout" alt="" coords="324,894,431,919"/>
<area shape="rect" id="node41" href="../../d8/ddc/option__list_8c.html#abbe6c95ecd6cf53e02d0e49c2cc6adac" title="option_unused" alt="" coords="323,943,432,969"/>
<area shape="rect" id="node42" href="../../d7/d40/list_8c.html#a919f01c7184ba8e6645264cc06516780" title="free_list" alt="" coords="344,993,412,1018"/>
<area shape="rect" id="node43" href="../../d6/d6e/network_8c.html#ae04b6dc422751023fd98b9cca4dce93e" title="get_network_output\l_layer" alt="" coords="309,1042,447,1081"/>
<area shape="rect" id="node45" href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc" title="axpy_cpu" alt="" coords="339,1850,417,1875"/>
<area shape="rect" id="node46" href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c" title="copy_cpu" alt="" coords="339,1899,417,1925"/>
<area shape="rect" id="node47" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="337,1949,419,1974"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_icgraph.png" border="0" usemap="#db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_icgraph" id="db/d2a/go_8c_a88ad2f96f9ea8092406bcb8f1873e92d_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="118,5,181,31"/>
<area shape="rect" id="node3" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="229,5,279,31"/>
</map>
</div>

</div>
</div>
<a id="a1bee8a9fcda465fdc3b9cf57b7646f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bee8a9fcda465fdc3b9cf57b7646f7d">&#9670;&nbsp;</a></span>train_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void train_go </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cfgfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weightfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>gpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ngpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clear</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00124">124</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d91/utils_8c_source.html#l00139">basecfg()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00016">network::batch</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00021">network::decay</a>, <a class="el" href="../../de/da9/data_8c_source.html#l00503">free_data()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00567">free_network()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00061">get_current_batch()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00078">get_current_rate()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00026">network::learning_rate</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00031">load_go_moves()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00051">load_network()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00032">network::max_batches</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00020">network::momentum</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00015">moves::n</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00089">random_go_moves()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00929">save_weights()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00192">sec()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00017">network::seen</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00019">network::subdivisions</a>, and <a class="el" href="../../d6/d6e/network_8c_source.html#l00269">train_network()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00871">run_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">float</span> avg_loss = -1;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">char</span> *base = <a class="code" href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b">basecfg</a>(cfgfile);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, base);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    printf(<span class="stringliteral">&quot;%d\n&quot;</span>, ngpus);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> *nets = calloc(ngpus, <span class="keyword">sizeof</span>(<a class="code" href="../../de/d45/structnetwork.html">network</a>));</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    srand(time(0));</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">int</span> seed = rand();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; ngpus; ++i){</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        srand(seed);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#ifdef GPU</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        cuda_set_device(gpus[i]);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        nets[i] = <a class="code" href="../../d6/d6e/network_8c.html#aa06b8ad6a6fb64daed0801ad5d4009a2">load_network</a>(cfgfile, weightfile, clear);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        nets[i].<a class="code" href="../../de/d45/structnetwork.html#a978d3e339536cd6bea2270d49d93c35a">learning_rate</a> *= ngpus;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net = nets[0];</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    printf(<span class="stringliteral">&quot;Learning Rate: %g, Momentum: %g, Decay: %g\n&quot;</span>, net.<a class="code" href="../../de/d45/structnetwork.html#a978d3e339536cd6bea2270d49d93c35a">learning_rate</a>, net.<a class="code" href="../../de/d45/structnetwork.html#a495c60ef821ca0ade1c42907c8bc90bf">momentum</a>, net.<a class="code" href="../../de/d45/structnetwork.html#a9afd53b100d35dc162e48118ef4f7eea">decay</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">char</span> *backup_directory = <span class="stringliteral">&quot;/home/pjreddie/backup/&quot;</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">char</span> buff[256];</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../d6/d30/structmoves.html">moves</a> m = <a class="code" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9">load_go_moves</a>(filename);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">//moves m = load_go_moves(&quot;games.txt&quot;);</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">int</span> N = m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    printf(<span class="stringliteral">&quot;Moves: %d\n&quot;</span>, N);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">int</span> epoch = (*net.<a class="code" href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">seen</a>)/N;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a>(net) &lt; net.<a class="code" href="../../de/d45/structnetwork.html#a163b931990a5ac8f456884405de2192b">max_batches</a> || net.<a class="code" href="../../de/d45/structnetwork.html#a163b931990a5ac8f456884405de2192b">max_batches</a> == 0){</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        clock_t time=clock();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="../../df/dea/structdata.html">data</a> train = <a class="code" href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a">random_go_moves</a>(m, net.<a class="code" href="../../de/d45/structnetwork.html#a04f448f3f8c3f1314e2b23b429bec827">batch</a>*net.<a class="code" href="../../de/d45/structnetwork.html#ab30643da07e0f787ee0cd2058cd41a6e">subdivisions</a>*ngpus);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        printf(<span class="stringliteral">&quot;Loaded: %lf seconds\n&quot;</span>, <a class="code" href="../../d3/d91/utils_8c.html#a375f4de29b8973c3e1b63bf49a5eb00e">sec</a>(clock()-time));</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        time=clock();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordtype">float</span> loss = 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#ifdef GPU</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span>(ngpus == 1){</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            loss = <a class="code" href="../../d6/d6e/network_8c.html#aeb752f771f5cfe8c401fc8dee8f3e439">train_network</a>(net, train);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            loss = train_networks(nets, ngpus, train, 4);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        loss = <a class="code" href="../../d6/d6e/network_8c.html#aeb752f771f5cfe8c401fc8dee8f3e439">train_network</a>(net, train);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../de/da9/data_8c.html#a4b0ce36f011ddb4b2ba58f58114d3219">free_data</a>(train);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span>(avg_loss == -1) avg_loss = loss;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        avg_loss = avg_loss*.95 + loss*.05;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        printf(<span class="stringliteral">&quot;%d, %.3f: %f, %f avg, %f rate, %lf seconds, %d images\n&quot;</span>, <a class="code" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a>(net), (<span class="keywordtype">float</span>)(*net.<a class="code" href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">seen</a>)/N, loss, avg_loss, <a class="code" href="../../d6/d6e/network_8c.html#ac997daf700149608de15d93a083c33dc">get_current_rate</a>(net), <a class="code" href="../../d3/d91/utils_8c.html#a375f4de29b8973c3e1b63bf49a5eb00e">sec</a>(clock()-time), *net.<a class="code" href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">seen</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span>(*net.<a class="code" href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">seen</a>/N &gt; epoch){</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            epoch = *net.<a class="code" href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">seen</a>/N;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordtype">char</span> buff[256];</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            sprintf(buff, <span class="stringliteral">&quot;%s/%s_%d.weights&quot;</span>, backup_directory,base, epoch);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10">save_weights</a>(net, buff);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a>(net)%1000 == 0){</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordtype">char</span> buff[256];</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            sprintf(buff, <span class="stringliteral">&quot;%s/%s.backup&quot;</span>,backup_directory,base);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <a class="code" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10">save_weights</a>(net, buff);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a>(net)%10000 == 0){</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordtype">char</span> buff[256];</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            sprintf(buff, <span class="stringliteral">&quot;%s/%s_%d.backup&quot;</span>,backup_directory,base,<a class="code" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a>(net));</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <a class="code" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10">save_weights</a>(net, buff);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    sprintf(buff, <span class="stringliteral">&quot;%s/%s.weights&quot;</span>, backup_directory, base);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10">save_weights</a>(net, buff);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0ea16ce7d9aefb606cc9dac3e322b447">free_network</a>(net);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    free(base);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="structnetwork_html_ad1b060aa7e1bfd54e25448f1783733d6"><div class="ttname"><a href="../../de/d45/structnetwork.html#ad1b060aa7e1bfd54e25448f1783733d6">network::seen</a></div><div class="ttdeci">int * seen</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00017">network.h:17</a></div></div>
<div class="ttc" id="structnetwork_html_a9afd53b100d35dc162e48118ef4f7eea"><div class="ttname"><a href="../../de/d45/structnetwork.html#a9afd53b100d35dc162e48118ef4f7eea">network::decay</a></div><div class="ttdeci">float decay</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00021">network.h:21</a></div></div>
<div class="ttc" id="structnetwork_html_a04f448f3f8c3f1314e2b23b429bec827"><div class="ttname"><a href="../../de/d45/structnetwork.html#a04f448f3f8c3f1314e2b23b429bec827">network::batch</a></div><div class="ttdeci">int batch</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00016">network.h:16</a></div></div>
<div class="ttc" id="structnetwork_html_a978d3e339536cd6bea2270d49d93c35a"><div class="ttname"><a href="../../de/d45/structnetwork.html#a978d3e339536cd6bea2270d49d93c35a">network::learning_rate</a></div><div class="ttdeci">float learning_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00026">network.h:26</a></div></div>
<div class="ttc" id="structnetwork_html_a495c60ef821ca0ade1c42907c8bc90bf"><div class="ttname"><a href="../../de/d45/structnetwork.html#a495c60ef821ca0ade1c42907c8bc90bf">network::momentum</a></div><div class="ttdeci">float momentum</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00020">network.h:20</a></div></div>
<div class="ttc" id="go_8c_html_af3527c2afe543ad88276f7ab0ca580b9"><div class="ttname"><a href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9">load_go_moves</a></div><div class="ttdeci">moves load_go_moves(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00031">go.c:31</a></div></div>
<div class="ttc" id="utils_8c_html_afe996fdc7e45995e94f02d55845e163b"><div class="ttname"><a href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b">basecfg</a></div><div class="ttdeci">char * basecfg(char *cfgfile)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00139">utils.c:139</a></div></div>
<div class="ttc" id="structnetwork_html_a163b931990a5ac8f456884405de2192b"><div class="ttname"><a href="../../de/d45/structnetwork.html#a163b931990a5ac8f456884405de2192b">network::max_batches</a></div><div class="ttdeci">int max_batches</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00032">network.h:32</a></div></div>
<div class="ttc" id="structnetwork_html"><div class="ttname"><a href="../../de/d45/structnetwork.html">network</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00014">network.h:14</a></div></div>
<div class="ttc" id="structmoves_html"><div class="ttname"><a href="../../d6/d30/structmoves.html">moves</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00013">go.c:13</a></div></div>
<div class="ttc" id="structnetwork_html_ab30643da07e0f787ee0cd2058cd41a6e"><div class="ttname"><a href="../../de/d45/structnetwork.html#ab30643da07e0f787ee0cd2058cd41a6e">network::subdivisions</a></div><div class="ttdeci">int subdivisions</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00019">network.h:19</a></div></div>
<div class="ttc" id="utils_8c_html_a375f4de29b8973c3e1b63bf49a5eb00e"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a375f4de29b8973c3e1b63bf49a5eb00e">sec</a></div><div class="ttdeci">float sec(clock_t clocks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00192">utils.c:192</a></div></div>
<div class="ttc" id="network_8c_html_ac997daf700149608de15d93a083c33dc"><div class="ttname"><a href="../../d6/d6e/network_8c.html#ac997daf700149608de15d93a083c33dc">get_current_rate</a></div><div class="ttdeci">float get_current_rate(network net)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00078">network.c:78</a></div></div>
<div class="ttc" id="network_8c_html_a95734b6e69a080abf33395707ab56b59"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59">get_current_batch</a></div><div class="ttdeci">int get_current_batch(network net)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00061">network.c:61</a></div></div>
<div class="ttc" id="network_8c_html_a0ea16ce7d9aefb606cc9dac3e322b447"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a0ea16ce7d9aefb606cc9dac3e322b447">free_network</a></div><div class="ttdeci">void free_network(network net)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00567">network.c:567</a></div></div>
<div class="ttc" id="parser_8c_html_a4efdf053d8e310ad956ce80519201a10"><div class="ttname"><a href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10">save_weights</a></div><div class="ttdeci">void save_weights(network net, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l00929">parser.c:929</a></div></div>
<div class="ttc" id="network_8c_html_aa06b8ad6a6fb64daed0801ad5d4009a2"><div class="ttname"><a href="../../d6/d6e/network_8c.html#aa06b8ad6a6fb64daed0801ad5d4009a2">load_network</a></div><div class="ttdeci">network load_network(char *cfg, char *weights, int clear)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00051">network.c:51</a></div></div>
<div class="ttc" id="data_8c_html_a4b0ce36f011ddb4b2ba58f58114d3219"><div class="ttname"><a href="../../de/da9/data_8c.html#a4b0ce36f011ddb4b2ba58f58114d3219">free_data</a></div><div class="ttdeci">void free_data(data d)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da9/data_8c_source.html#l00503">data.c:503</a></div></div>
<div class="ttc" id="structmoves_html_aa81066b4e56914d3d6fa93fee404e062"><div class="ttname"><a href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">moves::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00015">go.c:15</a></div></div>
<div class="ttc" id="go_8c_html_a4f610a96be9e62cbff6c70e1ec9c227a"><div class="ttname"><a href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a">random_go_moves</a></div><div class="ttdeci">data random_go_moves(moves m, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00089">go.c:89</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="../../df/dea/structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/data_8h_source.html#l00021">data.h:21</a></div></div>
<div class="ttc" id="network_8c_html_aeb752f771f5cfe8c401fc8dee8f3e439"><div class="ttname"><a href="../../d6/d6e/network_8c.html#aeb752f771f5cfe8c401fc8dee8f3e439">train_network</a></div><div class="ttdeci">float train_network(network net, data d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00269">network.c:269</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_cgraph.png" border="0" usemap="#db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_cgraph" id="db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_cgraph">
<area shape="rect" id="node2" href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b" title="basecfg" alt="" coords="157,280,225,305"/>
<area shape="rect" id="node4" href="../../de/da9/data_8c.html#a4b0ce36f011ddb4b2ba58f58114d3219" title="free_data" alt="" coords="152,329,229,355"/>
<area shape="rect" id="node6" href="../../d6/d6e/network_8c.html#a0ea16ce7d9aefb606cc9dac3e322b447" title="free_network" alt="" coords="141,379,240,404"/>
<area shape="rect" id="node8" href="../../d6/d6e/network_8c.html#a95734b6e69a080abf33395707ab56b59" title="get_current_batch" alt="" coords="315,428,444,453"/>
<area shape="rect" id="node9" href="../../d6/d6e/network_8c.html#ac997daf700149608de15d93a083c33dc" title="get_current_rate" alt="" coords="131,480,250,505"/>
<area shape="rect" id="node11" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9" title="load_go_moves" alt="" coords="133,529,248,555"/>
<area shape="rect" id="node13" href="../../d6/d6e/network_8c.html#aa06b8ad6a6fb64daed0801ad5d4009a2" title="load_network" alt="" coords="140,579,241,604"/>
<area shape="rect" id="node39" href="../../db/d2a/go_8c.html#a4f610a96be9e62cbff6c70e1ec9c227a" title="random_go_moves" alt="" coords="123,724,258,749"/>
<area shape="rect" id="node45" href="../../d2/d72/parser_8c.html#a4efdf053d8e310ad956ce80519201a10" title="save_weights" alt="" coords="140,773,242,799"/>
<area shape="rect" id="node47" href="../../d3/d91/utils_8c.html#a375f4de29b8973c3e1b63bf49a5eb00e" title="sec" alt="" coords="170,823,212,848"/>
<area shape="rect" id="node48" href="../../d6/d6e/network_8c.html#aeb752f771f5cfe8c401fc8dee8f3e439" title="train_network" alt="" coords="140,1003,241,1028"/>
<area shape="rect" id="node3" href="../../d3/d91/utils_8c.html#a4d27da4f6ddad5146c9190badd121a39" title="copy_string" alt="" coords="334,280,424,305"/>
<area shape="rect" id="node5" href="../../dc/dca/matrix_8c.html#ab8962ce6e94daf63d29a9ba6decf6e1e" title="free_matrix" alt="" coords="335,329,423,355"/>
<area shape="rect" id="node7" href="../../dd/dad/layer_8c.html#a1a431043edf52f6b6f9f1cf22dd77543" title="free_layer" alt="" coords="339,379,420,404"/>
<area shape="rect" id="node10" href="../../d3/d91/utils_8c.html#a5492196e16ed2d16bae1df8483ef79ed" title="rand_uniform" alt="" coords="329,477,429,503"/>
<area shape="rect" id="node12" href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8" title="fgetgo" alt="" coords="350,527,408,552"/>
<area shape="rect" id="node14" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="312,576,446,601"/>
<area shape="rect" id="node38" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="330,625,429,651"/>
<area shape="rect" id="node15" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="541,5,614,31"/>
<area shape="rect" id="node16" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="703,428,752,453"/>
<area shape="rect" id="node17" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="524,107,632,132"/>
<area shape="rect" id="node18" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="535,156,620,181"/>
<area shape="rect" id="node19" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="512,205,643,231"/>
<area shape="rect" id="node20" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="531,255,625,280"/>
<area shape="rect" id="node21" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="507,304,648,329"/>
<area shape="rect" id="node22" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="508,353,648,379"/>
<area shape="rect" id="node23" href="../../d2/d72/parser_8c.html#a7ad1750e2fb2e9403fa68f21a2c62c28" title="parse_deconvolutional" alt="" coords="500,403,655,428"/>
<area shape="rect" id="node24" href="../../d2/d72/parser_8c.html#ae36102ed30d5b253ec3c58df3192c771" title="parse_local" alt="" coords="533,452,622,477"/>
<area shape="rect" id="node25" href="../../d2/d72/parser_8c.html#aa6d3ed6372d755d53624f85c06da7dbe" title="parse_activation" alt="" coords="518,501,637,527"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a5504899aea1400dbc33dba8eac459460" title="parse_rnn" alt="" coords="537,551,618,576"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#af8d59a4d921f3c03b0977d39feb14ced" title="parse_gru" alt="" coords="537,600,618,625"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a4e1046e1d1d1030ad9f473d9b930f2a0" title="parse_crnn" alt="" coords="534,649,622,675"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#a0ac5e58f1dd180ce1ae1bddc3bb47596" title="parse_connected" alt="" coords="516,699,639,724"/>
<area shape="rect" id="node30" href="../../d2/d72/parser_8c.html#a8d1bd90ea4beb8fc3069999af7f4448f" title="parse_crop" alt="" coords="534,748,622,773"/>
<area shape="rect" id="node31" href="../../d2/d72/parser_8c.html#a853d2066af42522c1de3f97d0bc0ff29" title="parse_cost" alt="" coords="534,797,621,823"/>
<area shape="rect" id="node32" href="../../d2/d72/parser_8c.html#afedfffed817f89349b250c4afe09041c" title="parse_region" alt="" coords="528,847,627,872"/>
<area shape="rect" id="node33" href="../../d2/d72/parser_8c.html#ab5cfcdcccf8d8f3fa5f46d4528a70cab" title="parse_detection" alt="" coords="519,896,636,921"/>
<area shape="rect" id="node34" href="../../d2/d72/parser_8c.html#a1f908ce65d9b8a102e754f61f00882b3" title="parse_softmax" alt="" coords="523,945,632,971"/>
<area shape="rect" id="node35" href="../../d2/d72/parser_8c.html#a070f2ff614c49ca43151b17082372374" title="parse_normalization" alt="" coords="507,995,648,1020"/>
<area shape="rect" id="node36" href="../../d2/d72/parser_8c.html#a912380cd9e2ee925a2e0af57cbde0511" title="parse_batchnorm" alt="" coords="515,1044,640,1069"/>
<area shape="rect" id="node37" href="../../d2/d72/parser_8c.html#abef6e6b93a1c7ba7aef41bf2b95e9d27" title="parse_maxpool" alt="" coords="521,1093,634,1119"/>
<area shape="rect" id="node40" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="338,675,420,700"/>
<area shape="rect" id="node41" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024" title="float_to_image" alt="" coords="325,724,434,749"/>
<area shape="rect" id="node42" href="../../dc/dca/matrix_8c.html#a47438b60c4cf871ff2523161d8a26eef" title="make_matrix" alt="" coords="330,773,428,799"/>
<area shape="rect" id="node43" href="../../d3/d10/image_8c.html#a5f4eee7b0d6fbc221d65b48e6ca12f43" title="rotate_image_cw" alt="" coords="318,823,441,848"/>
<area shape="rect" id="node44" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="322,872,436,897"/>
<area shape="rect" id="node46" href="../../d2/d72/parser_8c.html#a6ee95b0b2c847e3bb0480a5a657665a3" title="save_weights_upto" alt="" coords="312,921,447,947"/>
<area shape="rect" id="node49" href="../../de/da9/data_8c.html#a338d58d41be3703ef4ce443e5bb4e52f" title="get_next_batch" alt="" coords="323,1003,436,1028"/>
<area shape="rect" id="node50" href="../../d6/d6e/network_8c.html#afa4aad9692a4d53a3573aa48c5e4d7bd" title="train_network_datum" alt="" coords="306,1113,452,1139"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_icgraph.png" border="0" usemap="#db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_icgraph" id="db/d2a/go_8c_a1bee8a9fcda465fdc3b9cf57b7646f7d_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="123,5,186,31"/>
<area shape="rect" id="node3" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="234,5,284,31"/>
</map>
</div>

</div>
</div>
<a id="ae3949a68287cfeb7a1c35abfca445142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3949a68287cfeb7a1c35abfca445142">&#9670;&nbsp;</a></span>valid_go()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void valid_go </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cfgfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weightfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00441">441</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d91/utils_8c_source.html#l00139">basecfg()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00014">moves::data</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00021">network::decay</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00026">network::learning_rate</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00031">load_go_moves()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01127">load_weights()</a>, <a class="el" href="../../d3/d91/utils_8c_source.html#l00550">max_index()</a>, <a class="el" href="../../d9/d94/network_8h_source.html#l00020">network::momentum</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00015">moves::n</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00618">parse_network_cfg()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00288">predict_move()</a>, <a class="el" href="../../d6/d6e/network_8c_source.html#l00285">set_batch_network()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00053">string_to_board()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00871">run_go()</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    srand(time(0));</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">char</span> *base = <a class="code" href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b">basecfg</a>(cfgfile);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, base);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="../../de/d45/structnetwork.html">network</a> net = <a class="code" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a>(cfgfile);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span>(weightfile){</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a>(&amp;net, weightfile);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a>(&amp;net, 1);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    printf(<span class="stringliteral">&quot;Learning Rate: %g, Momentum: %g, Decay: %g\n&quot;</span>, net.<a class="code" href="../../de/d45/structnetwork.html#a978d3e339536cd6bea2270d49d93c35a">learning_rate</a>, net.<a class="code" href="../../de/d45/structnetwork.html#a495c60ef821ca0ade1c42907c8bc90bf">momentum</a>, net.<a class="code" href="../../de/d45/structnetwork.html#a9afd53b100d35dc162e48118ef4f7eea">decay</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">float</span> *board = calloc(19*19, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordtype">float</span> *move = calloc(19*19+1, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="comment">// moves m = load_go_moves(&quot;/home/pjreddie/backup/go.test&quot;);</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../d6/d30/structmoves.html">moves</a> m = <a class="code" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9">load_go_moves</a>(filename);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordtype">int</span> N = m.<a class="code" href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">n</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">int</span> correct = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt;N; ++i){</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordtype">char</span> *b = m.<a class="code" href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">data</a>[i];</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordtype">int</span> row = b[0];</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">int</span> col = b[1];</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordtype">int</span> truth = col + 19*row;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a>(b+2, board);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a>(net, board, move, multi);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordtype">int</span> index = <a class="code" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf">max_index</a>(move, 19*19);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span>(index == truth) ++correct;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        printf(<span class="stringliteral">&quot;%d Accuracy %f\n&quot;</span>, i, (<span class="keywordtype">float</span>) correct/(i+1));</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="ttc" id="structnetwork_html_a9afd53b100d35dc162e48118ef4f7eea"><div class="ttname"><a href="../../de/d45/structnetwork.html#a9afd53b100d35dc162e48118ef4f7eea">network::decay</a></div><div class="ttdeci">float decay</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00021">network.h:21</a></div></div>
<div class="ttc" id="structnetwork_html_a978d3e339536cd6bea2270d49d93c35a"><div class="ttname"><a href="../../de/d45/structnetwork.html#a978d3e339536cd6bea2270d49d93c35a">network::learning_rate</a></div><div class="ttdeci">float learning_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00026">network.h:26</a></div></div>
<div class="ttc" id="structnetwork_html_a495c60ef821ca0ade1c42907c8bc90bf"><div class="ttname"><a href="../../de/d45/structnetwork.html#a495c60ef821ca0ade1c42907c8bc90bf">network::momentum</a></div><div class="ttdeci">float momentum</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00020">network.h:20</a></div></div>
<div class="ttc" id="go_8c_html_af3527c2afe543ad88276f7ab0ca580b9"><div class="ttname"><a href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9">load_go_moves</a></div><div class="ttdeci">moves load_go_moves(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00031">go.c:31</a></div></div>
<div class="ttc" id="utils_8c_html_afe996fdc7e45995e94f02d55845e163b"><div class="ttname"><a href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b">basecfg</a></div><div class="ttdeci">char * basecfg(char *cfgfile)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00139">utils.c:139</a></div></div>
<div class="ttc" id="structnetwork_html"><div class="ttname"><a href="../../de/d45/structnetwork.html">network</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00014">network.h:14</a></div></div>
<div class="ttc" id="go_8c_html_a17432d5a451dec0ceeb8db0e17ebe207"><div class="ttname"><a href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207">string_to_board</a></div><div class="ttdeci">void string_to_board(char *s, float *board)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00053">go.c:53</a></div></div>
<div class="ttc" id="structmoves_html"><div class="ttname"><a href="../../d6/d30/structmoves.html">moves</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00013">go.c:13</a></div></div>
<div class="ttc" id="structmoves_html_ac078836de92eeac5dda2fb83ae0b0f2f"><div class="ttname"><a href="../../d6/d30/structmoves.html#ac078836de92eeac5dda2fb83ae0b0f2f">moves::data</a></div><div class="ttdeci">char ** data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00014">go.c:14</a></div></div>
<div class="ttc" id="go_8c_html_afb8b8c2cb2d9d8a7ea35a5d6133a9657"><div class="ttname"><a href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657">predict_move</a></div><div class="ttdeci">void predict_move(network net, float *board, float *move, int multi)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00288">go.c:288</a></div></div>
<div class="ttc" id="utils_8c_html_a3ebf9ae027586c4c7d982ffc92bad3cf"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf">max_index</a></div><div class="ttdeci">int max_index(float *a, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00550">utils.c:550</a></div></div>
<div class="ttc" id="parser_8c_html_abb6f2aa1c5d5bf340faae09be6538c56"><div class="ttname"><a href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56">parse_network_cfg</a></div><div class="ttdeci">network parse_network_cfg(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l00618">parser.c:618</a></div></div>
<div class="ttc" id="network_8c_html_a0cf39a1104b8f0415c56796b54a3670a"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a">set_batch_network</a></div><div class="ttdeci">void set_batch_network(network *net, int b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00285">network.c:285</a></div></div>
<div class="ttc" id="structmoves_html_aa81066b4e56914d3d6fa93fee404e062"><div class="ttname"><a href="../../d6/d30/structmoves.html#aa81066b4e56914d3d6fa93fee404e062">moves::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/go_8c_source.html#l00015">go.c:15</a></div></div>
<div class="ttc" id="parser_8c_html_a60957f4d236ea8e417999b1778ec3d55"><div class="ttname"><a href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55">load_weights</a></div><div class="ttdeci">void load_weights(network *net, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d72/parser_8c_source.html#l01127">parser.c:1127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_cgraph.png" border="0" usemap="#db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_cgraph" alt=""/></div>
<map name="db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_cgraph" id="db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_cgraph">
<area shape="rect" id="node2" href="../../d3/d91/utils_8c.html#afe996fdc7e45995e94f02d55845e163b" title="basecfg" alt="" coords="157,100,225,125"/>
<area shape="rect" id="node4" href="../../db/d2a/go_8c.html#af3527c2afe543ad88276f7ab0ca580b9" title="load_go_moves" alt="" coords="134,244,249,269"/>
<area shape="rect" id="node6" href="../../d2/d72/parser_8c.html#a60957f4d236ea8e417999b1778ec3d55" title="load_weights" alt="" coords="142,483,241,508"/>
<area shape="rect" id="node8" href="../../d3/d91/utils_8c.html#a3ebf9ae027586c4c7d982ffc92bad3cf" title="max_index" alt="" coords="148,909,234,935"/>
<area shape="rect" id="node9" href="../../d2/d72/parser_8c.html#abb6f2aa1c5d5bf340faae09be6538c56" title="parse_network_cfg" alt="" coords="124,959,258,984"/>
<area shape="rect" id="node43" href="../../db/d2a/go_8c.html#afb8b8c2cb2d9d8a7ea35a5d6133a9657" title="predict_move" alt="" coords="141,1827,242,1852"/>
<area shape="rect" id="node49" href="../../d6/d6e/network_8c.html#a0cf39a1104b8f0415c56796b54a3670a" title="set_batch_network" alt="" coords="125,1876,258,1901"/>
<area shape="rect" id="node50" href="../../db/d2a/go_8c.html#a17432d5a451dec0ceeb8db0e17ebe207" title="string_to_board" alt="" coords="134,1925,248,1951"/>
<area shape="rect" id="node3" href="../../d3/d91/utils_8c.html#a4d27da4f6ddad5146c9190badd121a39" title="copy_string" alt="" coords="339,5,428,31"/>
<area shape="rect" id="node5" href="../../db/d2a/go_8c.html#a7fea59d697108309468be55ab9b8a1a8" title="fgetgo" alt="" coords="355,55,413,80"/>
<area shape="rect" id="node7" href="../../d2/d72/parser_8c.html#abb17f71fa3838540cc5eff6492cce5e6" title="load_weights_upto" alt="" coords="317,104,450,129"/>
<area shape="rect" id="node10" href="../../d2/d72/parser_8c.html#a3275ec64d90febff7c0b69c9c5253893" title="read_cfg" alt="" coords="347,561,420,587"/>
<area shape="rect" id="node11" href="../../d3/d91/utils_8c.html#a6c317cffefb9737fb2260da73688f275" title="error" alt="" coords="562,836,612,861"/>
<area shape="rect" id="node12" href="../../d6/d6e/network_8c.html#ad2dcde69603d71857d11484ae99bd8fe" title="make_network" alt="" coords="330,1605,438,1631"/>
<area shape="rect" id="node13" href="../../d2/d72/parser_8c.html#ad1828ac8171ebfd2b0810efb68a892d8" title="is_network" alt="" coords="341,1655,426,1680"/>
<area shape="rect" id="node14" href="../../d2/d72/parser_8c.html#a21c6f7046fcd48a8cfd74c23fcf944ca" title="parse_net_options" alt="" coords="318,1356,449,1381"/>
<area shape="rect" id="node15" href="../../d8/ddc/option__list_8c.html#a8d1e0e1e5d373284b9fccf658239ee35" title="option_find_int_quiet" alt="" coords="515,1132,659,1157"/>
<area shape="rect" id="node16" href="../../d8/ddc/option__list_8c.html#a9288689d608093160368113dbdd8ba34" title="option_find_float_quiet" alt="" coords="509,1455,665,1480"/>
<area shape="rect" id="node17" href="../../d2/d72/parser_8c.html#a97c3da45ea6b7b689493efb262b35de8" title="free_section" alt="" coords="337,1704,431,1729"/>
<area shape="rect" id="node18" href="../../d2/d72/parser_8c.html#a990806ef35cd5caa481e2c9bb93442a9" title="string_to_layer_type" alt="" coords="313,1753,454,1779"/>
<area shape="rect" id="node19" href="../../d2/d72/parser_8c.html#a471db4c53b8d77ab23576fe4c6856d3f" title="parse_convolutional" alt="" coords="314,1405,454,1431"/>
<area shape="rect" id="node20" href="../../d2/d72/parser_8c.html#a7ad1750e2fb2e9403fa68f21a2c62c28" title="parse_deconvolutional" alt="" coords="306,959,461,984"/>
<area shape="rect" id="node21" href="../../d2/d72/parser_8c.html#ae36102ed30d5b253ec3c58df3192c771" title="parse_local" alt="" coords="339,712,428,737"/>
<area shape="rect" id="node22" href="../../d2/d72/parser_8c.html#aa6d3ed6372d755d53624f85c06da7dbe" title="parse_activation" alt="" coords="324,153,443,179"/>
<area shape="rect" id="node23" href="../../d2/d72/parser_8c.html#a5504899aea1400dbc33dba8eac459460" title="parse_rnn" alt="" coords="343,1307,424,1332"/>
<area shape="rect" id="node24" href="../../d2/d72/parser_8c.html#af8d59a4d921f3c03b0977d39feb14ced" title="parse_gru" alt="" coords="343,1008,424,1033"/>
<area shape="rect" id="node25" href="../../d2/d72/parser_8c.html#a4e1046e1d1d1030ad9f473d9b930f2a0" title="parse_crnn" alt="" coords="340,1057,428,1083"/>
<area shape="rect" id="node26" href="../../d2/d72/parser_8c.html#a0ac5e58f1dd180ce1ae1bddc3bb47596" title="parse_connected" alt="" coords="322,1107,446,1132"/>
<area shape="rect" id="node27" href="../../d2/d72/parser_8c.html#a8d1bd90ea4beb8fc3069999af7f4448f" title="parse_crop" alt="" coords="340,811,428,836"/>
<area shape="rect" id="node28" href="../../d2/d72/parser_8c.html#a853d2066af42522c1de3f97d0bc0ff29" title="parse_cost" alt="" coords="340,1504,427,1529"/>
<area shape="rect" id="node29" href="../../d2/d72/parser_8c.html#afedfffed817f89349b250c4afe09041c" title="parse_region" alt="" coords="334,1156,433,1181"/>
<area shape="rect" id="node30" href="../../d2/d72/parser_8c.html#ab5cfcdcccf8d8f3fa5f46d4528a70cab" title="parse_detection" alt="" coords="326,1205,442,1231"/>
<area shape="rect" id="node31" href="../../d2/d72/parser_8c.html#a1f908ce65d9b8a102e754f61f00882b3" title="parse_softmax" alt="" coords="329,1455,438,1480"/>
<area shape="rect" id="node32" href="../../d2/d72/parser_8c.html#a070f2ff614c49ca43151b17082372374" title="parse_normalization" alt="" coords="313,203,454,228"/>
<area shape="rect" id="node33" href="../../d2/d72/parser_8c.html#a912380cd9e2ee925a2e0af57cbde0511" title="parse_batchnorm" alt="" coords="321,252,446,277"/>
<area shape="rect" id="node34" href="../../d2/d72/parser_8c.html#abef6e6b93a1c7ba7aef41bf2b95e9d27" title="parse_maxpool" alt="" coords="327,860,440,885"/>
<area shape="rect" id="node35" href="../../d2/d72/parser_8c.html#a934cdac39f052fe5f89407b9c99e729e" title="parse_reorg" alt="" coords="337,909,430,935"/>
<area shape="rect" id="node36" href="../../d2/d72/parser_8c.html#ad30661bf80ffee22a45132dbcd53043d" title="parse_avgpool" alt="" coords="329,761,438,787"/>
<area shape="rect" id="node37" href="../../d2/d72/parser_8c.html#a6a5c32c49b1a691f4e699760b72aff57" title="parse_route" alt="" coords="337,611,430,636"/>
<area shape="rect" id="node38" href="../../d2/d72/parser_8c.html#ab297102c068c53158161d4b13d03a53b" title="parse_shortcut" alt="" coords="329,301,438,327"/>
<area shape="rect" id="node39" href="../../d2/d72/parser_8c.html#acd4507a8980581f176f52500997f32ed" title="parse_dropout" alt="" coords="330,351,437,376"/>
<area shape="rect" id="node40" href="../../d8/ddc/option__list_8c.html#abbe6c95ecd6cf53e02d0e49c2cc6adac" title="option_unused" alt="" coords="329,400,438,425"/>
<area shape="rect" id="node41" href="../../d7/d40/list_8c.html#a919f01c7184ba8e6645264cc06516780" title="free_list" alt="" coords="350,449,418,475"/>
<area shape="rect" id="node42" href="../../d6/d6e/network_8c.html#ae04b6dc422751023fd98b9cca4dce93e" title="get_network_output\l_layer" alt="" coords="314,499,453,537"/>
<area shape="rect" id="node44" href="../../dc/d50/blas_8c.html#a1af2064b6d091c8bf5565327745534fc" title="axpy_cpu" alt="" coords="345,1852,423,1877"/>
<area shape="rect" id="node45" href="../../dc/d50/blas_8c.html#a22f6b03dd54e2d4b249e53a0ca14434c" title="copy_cpu" alt="" coords="345,1901,423,1927"/>
<area shape="rect" id="node46" href="../../d3/d10/image_8c.html#ac226109dbae019db599ceb71d5f6aca8" title="flip_image" alt="" coords="343,1951,425,1976"/>
<area shape="rect" id="node47" href="../../d3/d10/image_8c.html#a30912fff1b55bfe3f46db0dcf74f6024" title="float_to_image" alt="" coords="329,2000,438,2025"/>
<area shape="rect" id="node48" href="../../d6/d6e/network_8c.html#a40ea1072011345fcf25951b4a5d429a6" title="network_predict" alt="" coords="326,1803,441,1828"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_icgraph.png" border="0" usemap="#db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_icgraph" alt=""/></div>
<map name="db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_icgraph" id="db/d2a/go_8c_ae3949a68287cfeb7a1c35abfca445142_icgraph">
<area shape="rect" id="node2" href="../../db/d2a/go_8c.html#acbc5b7a174f506f13ab6d0fca1faa102" title="run_go" alt="" coords="124,5,187,31"/>
<area shape="rect" id="node3" href="../../dd/df8/darknet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="235,5,285,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2a99b4dc38f9b4ceadb80091e2dce12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a99b4dc38f9b4ceadb80091e2dce12c">&#9670;&nbsp;</a></span>inverted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inverted = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00009">9</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>

</div>
</div>
<a id="ad9ac4abfd1668c2eff233db8a57475ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ac4abfd1668c2eff233db8a57475ce">&#9670;&nbsp;</a></span>nind</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int nind = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00011">11</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00377">generate_move()</a>, <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>

</div>
</div>
<a id="afd34566fdbd8e7f8f4d5b750a3040191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd34566fdbd8e7f8f4d5b750a3040191">&#9670;&nbsp;</a></span>noi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int noi = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d2a/go_8c_source.html#l00010">10</a> of file <a class="el" href="../../db/d2a/go_8c_source.html">go.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d2a/go_8c_source.html#l00237">print_board()</a>, and <a class="el" href="../../db/d2a/go_8c_source.html#l00684">test_go()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 27 2017 01:13:32 for Darknet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
